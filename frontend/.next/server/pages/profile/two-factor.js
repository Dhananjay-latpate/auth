"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/profile/two-factor";
exports.ids = ["pages/profile/two-factor"];
exports.modules = {

/***/ "./src/context/AuthContext.js":
/*!************************************!*\
  !*** ./src/context/AuthContext.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthProvider\": () => (/* binding */ AuthProvider),\n/* harmony export */   \"useAuth\": () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_3__]);\naxios__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Create context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\n// Setup axios defaults and interceptors to handle auth\nconst setupAxiosDefaults = (token)=>{\n    if (token) {\n        axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization = `Bearer ${token}`;\n    } else {\n        delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n    }\n};\nconst AuthProvider = ({ children  })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Use refs for concurrency and interval management\n    const authPromiseRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tokenRefreshIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize auth on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initAuth = async ()=>{\n            // Get token from localStorage or cookie\n            const token =  false ? 0 : null;\n            if (token) {\n                // Set default authorization header\n                setupAxiosDefaults(token.trim());\n            }\n            await checkUserLoggedIn();\n        };\n        initAuth();\n        // Cleanup the token refresh interval on unmount\n        return ()=>{\n            if (tokenRefreshIntervalRef.current) {\n                clearInterval(tokenRefreshIntervalRef.current);\n            }\n        };\n    }, []);\n    // Setup a token refresh mechanism\n    const setupTokenRefresh = ()=>{\n        // Clear any existing interval\n        if (tokenRefreshIntervalRef.current) {\n            clearInterval(tokenRefreshIntervalRef.current);\n        }\n        // Refresh token every 55 minutes (just before standard 1-hour expiration)\n        tokenRefreshIntervalRef.current = setInterval(async ()=>{\n            try {\n                const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\");\n                if (token) {\n                    const refreshRes = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/auth/refresh-token`, {\n                        headers: {\n                            Authorization: `Bearer ${token.trim()}`\n                        }\n                    });\n                    if (refreshRes.data.success) {\n                        const newToken = refreshRes.data.token.trim();\n                        (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", newToken, {\n                            maxAge: 30 * 24 * 60 * 60,\n                            path: \"/\"\n                        });\n                        // Update axios default header with the new token\n                        setupAxiosDefaults(newToken);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Token refresh failed\", error);\n                // If refresh fails, log the user out\n                logout();\n            }\n        }, 55 * 60 * 1000);\n    };\n    // Register user\n    const register = async (userData)=>{\n        try {\n            const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/register`, userData, {\n                withCredentials: true\n            });\n            if (res.data.success) {\n                (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", res.data.token.trim(), {\n                    maxAge: 30 * 24 * 60 * 60,\n                    path: \"/\"\n                });\n                await checkUserLoggedIn(); // Fetch user data\n                setupTokenRefresh();\n                router.push(\"/dashboard\");\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || \"An error occurred during registration\");\n            setTimeout(()=>setError(null), 5000);\n        }\n    };\n    // Login user\n    const login = async ({ email , password  })=>{\n        try {\n            console.log(\"Attempting login with:\", {\n                email\n            });\n            // Clear previous tokens to avoid redirect loops\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                path: \"/\"\n            });\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_data\");\n            localStorage.removeItem(\"isLoggingOut\");\n            delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n            const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/login`, {\n                email,\n                password\n            }, {\n                withCredentials: true\n            });\n            console.log(\"Login response:\", res.data);\n            // Check if 2FA is required\n            if (res.data.requireTwoFactor) {\n                router.push({\n                    pathname: \"/login/verify-2fa\",\n                    query: {\n                        email\n                    }\n                });\n                return;\n            }\n            if (res.data.success && res.data.token) {\n                const token = res.data.token.trim();\n                // Store token in localStorage and cookie\n                localStorage.setItem(\"auth_token\", token);\n                (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", token, {\n                    maxAge: 30 * 24 * 60 * 60,\n                    path: \"/\"\n                });\n                setupAxiosDefaults(token);\n                console.log(\"Token set in cookie and localStorage\");\n                if (res.data.user) {\n                    setUser(res.data.user);\n                    localStorage.setItem(\"user_data\", JSON.stringify(res.data.user));\n                }\n                // Fetch fresh user data\n                await checkUserLoggedIn();\n                setupTokenRefresh();\n                // Redirect to dashboard (using full reload to clear middleware if needed)\n                window.location.href = \"/dashboard\";\n                return res.data;\n            }\n            return res.data;\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            setError(error.response?.data?.error || \"Invalid credentials\");\n            setTimeout(()=>setError(null), 5000);\n            throw error;\n        }\n    };\n    // Logout user\n    const logout = async ()=>{\n        try {\n            console.log(\"AuthContext logout called\");\n            // Flag to prevent multiple logout attempts\n            localStorage.setItem(\"isLoggingOut\", \"true\");\n            // Clear all tokens and state FIRST\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            setUser(null);\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                path: \"/\"\n            });\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_data\");\n            delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n            // Clear token refresh interval\n            if (tokenRefreshIntervalRef.current) {\n                clearInterval(tokenRefreshIntervalRef.current);\n                tokenRefreshIntervalRef.current = null;\n            }\n            // Call the API to logout - don't wait for it\n            if (token) {\n                try {\n                    fetch(`${\"http://localhost:5000\"}/api/v1/auth/logout`, {\n                        method: \"GET\",\n                        headers: {\n                            Authorization: `Bearer ${token}`\n                        }\n                    }).catch((e)=>console.log(\"Logout API error (non-critical):\", e));\n                } catch (apiError) {\n                    console.log(\"Logout API call error (non-critical):\", apiError);\n                }\n            }\n            // Force hard redirect to login page with logged_out flag and timestamp\n            const timestamp = Date.now();\n            // Clear the logging out flag right before redirecting\n            localStorage.removeItem(\"isLoggingOut\");\n            // Use replace to create a clean navigation history\n            if (false) {}\n        } catch (error) {\n            console.error(\"Logout process error:\", error);\n            // Fallback redirect if something went wrong\n            window.location.replace(\"/login?logged_out=true\");\n        }\n    };\n    // Check if user is logged in with concurrency handling using a stored promise\n    const checkUserLoggedIn = async ()=>{\n        if (authPromiseRef.current) {\n            return authPromiseRef.current;\n        }\n        authPromiseRef.current = (async ()=>{\n            try {\n                // Retrieve token from cookie or localStorage\n                let token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") ||  false && 0;\n                console.log(\"Checking auth:\", token ? \"Token exists\" : \"No token\");\n                if (!token) {\n                    setUser(null);\n                    localStorage.removeItem(\"user_data\");\n                    return null;\n                }\n                token = token.trim();\n                setupAxiosDefaults(token);\n                // If token exists in localStorage but not in cookie, restore it\n                if (!(0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") && \"undefined\" !== \"undefined\") {}\n                // Attempt to use cached user data (non-blocking)\n                const cachedUser =  false && 0;\n                if (cachedUser) {\n                    try {\n                        const userData = JSON.parse(cachedUser);\n                        setUser(userData);\n                    // Still continue to fetch fresh data below\n                    } catch (e) {\n                        console.error(\"Error parsing cached user data\", e);\n                        localStorage.removeItem(\"user_data\");\n                    }\n                }\n                // Fetch fresh user data from the API\n                console.log(\"Fetching user data from API\");\n                const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/auth/me`);\n                if (res.data.success) {\n                    setUser(res.data.data);\n                    localStorage.setItem(\"user_data\", JSON.stringify(res.data.data));\n                    setupTokenRefresh();\n                    return res.data.data;\n                }\n            } catch (error) {\n                console.error(\"Error fetching user:\", error);\n                if (error.response && error.response.status === 401) {\n                    console.log(\"Unauthorized access - clearing tokens\");\n                    setUser(null);\n                    (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                        path: \"/\"\n                    });\n                    localStorage.removeItem(\"auth_token\");\n                    localStorage.removeItem(\"user_data\");\n                    delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n                }\n            } finally{\n                setLoading(false);\n                authPromiseRef.current = null;\n            }\n            return null;\n        })();\n        return authPromiseRef.current;\n    };\n    // Check if user has specified permission\n    const hasPermission = (permission)=>{\n        if (!user) return false;\n        if ([\n            \"admin\",\n            \"superadmin\"\n        ].includes(user.role)) {\n            return true;\n        }\n        return user.permissions && user.permissions.includes(permission);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            loading,\n            error,\n            register,\n            login,\n            logout,\n            hasPermission,\n            checkUserLoggedIn\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/redlight/auth/frontend/src/context/AuthContext.js\",\n        lineNumber: 324,\n        columnNumber: 5\n    }, undefined);\n};\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (!context) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlDLE1BQU0sK0NBQStDO0lBQ2pFLENBQUM7SUFDRCxPQUFPRDtBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLWZyb250ZW5kLy4vc3JjL2NvbnRleHQvQXV0aENvbnRleHQuanM/NGJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IHsgc2V0Q29va2llLCBnZXRDb29raWUsIGRlbGV0ZUNvb2tpZSB9IGZyb20gXCJjb29raWVzLW5leHRcIjtcblxuLy8gQ3JlYXRlIGNvbnRleHRcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcblxuLy8gU2V0dXAgYXhpb3MgZGVmYXVsdHMgYW5kIGludGVyY2VwdG9ycyB0byBoYW5kbGUgYXV0aFxuY29uc3Qgc2V0dXBBeGlvc0RlZmF1bHRzID0gKHRva2VuKSA9PiB7XG4gIGlmICh0b2tlbikge1xuICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb25cIl07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICAvLyBVc2UgcmVmcyBmb3IgY29uY3VycmVuY3kgYW5kIGludGVydmFsIG1hbmFnZW1lbnRcbiAgY29uc3QgYXV0aFByb21pc2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRva2VuUmVmcmVzaEludGVydmFsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIEluaXRpYWxpemUgYXV0aCBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gR2V0IHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIG9yIGNvb2tpZVxuICAgICAgY29uc3QgdG9rZW4gPVxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIikgfHwgZ2V0Q29va2llKFwidG9rZW5cIilcbiAgICAgICAgICA6IG51bGw7XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAvLyBTZXQgZGVmYXVsdCBhdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgICBzZXR1cEF4aW9zRGVmYXVsdHModG9rZW4udHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7XG4gICAgfTtcblxuICAgIGluaXRBdXRoKCk7XG5cbiAgICAvLyBDbGVhbnVwIHRoZSB0b2tlbiByZWZyZXNoIGludGVydmFsIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gU2V0dXAgYSB0b2tlbiByZWZyZXNoIG1lY2hhbmlzbVxuICBjb25zdCBzZXR1cFRva2VuUmVmcmVzaCA9ICgpID0+IHtcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICBpZiAodG9rZW5SZWZyZXNoSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICAvLyBSZWZyZXNoIHRva2VuIGV2ZXJ5IDU1IG1pbnV0ZXMgKGp1c3QgYmVmb3JlIHN0YW5kYXJkIDEtaG91ciBleHBpcmF0aW9uKVxuICAgIHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICBjb25zdCByZWZyZXNoUmVzID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvcmVmcmVzaC10b2tlbmAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW4udHJpbSgpfWAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChyZWZyZXNoUmVzLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSByZWZyZXNoUmVzLmRhdGEudG9rZW4udHJpbSgpO1xuICAgICAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgbmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gVXBkYXRlIGF4aW9zIGRlZmF1bHQgaGVhZGVyIHdpdGggdGhlIG5ldyB0b2tlblxuICAgICAgICAgICAgc2V0dXBBeGlvc0RlZmF1bHRzKG5ld1Rva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUb2tlbiByZWZyZXNoIGZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgIC8vIElmIHJlZnJlc2ggZmFpbHMsIGxvZyB0aGUgdXNlciBvdXRcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgICB9XG4gICAgfSwgNTUgKiA2MCAqIDEwMDApO1xuICB9O1xuXG4gIC8vIFJlZ2lzdGVyIHVzZXJcbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAodXNlckRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvcmVnaXN0ZXJgLFxuICAgICAgICB1c2VyRGF0YSxcbiAgICAgICAgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgcmVzLmRhdGEudG9rZW4udHJpbSgpLCB7XG4gICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7IC8vIEZldGNoIHVzZXIgZGF0YVxuICAgICAgICBzZXR1cFRva2VuUmVmcmVzaCgpO1xuICAgICAgICByb3V0ZXIucHVzaChcIi9kYXNoYm9hcmRcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHwgXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcmVnaXN0cmF0aW9uXCJcbiAgICAgICk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKG51bGwpLCA1MDAwKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9naW4gdXNlclxuICBjb25zdCBsb2dpbiA9IGFzeW5jICh7IGVtYWlsLCBwYXNzd29yZCB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyBsb2dpbiB3aXRoOlwiLCB7IGVtYWlsIH0pO1xuXG4gICAgICAvLyBDbGVhciBwcmV2aW91cyB0b2tlbnMgdG8gYXZvaWQgcmVkaXJlY3QgbG9vcHNcbiAgICAgIGRlbGV0ZUNvb2tpZShcInRva2VuXCIsIHsgcGF0aDogXCIvXCIgfSk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImF1dGhfdG9rZW5cIik7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiaXNMb2dnaW5nT3V0XCIpO1xuICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvbG9naW5gLFxuICAgICAgICB7IGVtYWlsLCBwYXNzd29yZCB9LFxuICAgICAgICB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9XG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIkxvZ2luIHJlc3BvbnNlOlwiLCByZXMuZGF0YSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIDJGQSBpcyByZXF1aXJlZFxuICAgICAgaWYgKHJlcy5kYXRhLnJlcXVpcmVUd29GYWN0b3IpIHtcbiAgICAgICAgcm91dGVyLnB1c2goe1xuICAgICAgICAgIHBhdGhuYW1lOiBcIi9sb2dpbi92ZXJpZnktMmZhXCIsXG4gICAgICAgICAgcXVlcnk6IHsgZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MgJiYgcmVzLmRhdGEudG9rZW4pIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXMuZGF0YS50b2tlbi50cmltKCk7XG4gICAgICAgIC8vIFN0b3JlIHRva2VuIGluIGxvY2FsU3RvcmFnZSBhbmQgY29va2llXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXV0aF90b2tlblwiLCB0b2tlbik7XG4gICAgICAgIHNldENvb2tpZShcInRva2VuXCIsIHRva2VuLCB7XG4gICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0dXBBeGlvc0RlZmF1bHRzKHRva2VuKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlRva2VuIHNldCBpbiBjb29raWUgYW5kIGxvY2FsU3RvcmFnZVwiKTtcblxuICAgICAgICBpZiAocmVzLmRhdGEudXNlcikge1xuICAgICAgICAgIHNldFVzZXIocmVzLmRhdGEudXNlcik7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyX2RhdGFcIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudXNlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmV0Y2ggZnJlc2ggdXNlciBkYXRhXG4gICAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7XG4gICAgICAgIHNldHVwVG9rZW5SZWZyZXNoKCk7XG5cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gZGFzaGJvYXJkICh1c2luZyBmdWxsIHJlbG9hZCB0byBjbGVhciBtaWRkbGV3YXJlIGlmIG5lZWRlZClcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9kYXNoYm9hcmRcIjtcbiAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJMb2dpbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8IFwiSW52YWxpZCBjcmVkZW50aWFsc1wiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDUwMDApO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIExvZ291dCB1c2VyXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJBdXRoQ29udGV4dCBsb2dvdXQgY2FsbGVkXCIpO1xuXG4gICAgICAvLyBGbGFnIHRvIHByZXZlbnQgbXVsdGlwbGUgbG9nb3V0IGF0dGVtcHRzXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImlzTG9nZ2luZ091dFwiLCBcInRydWVcIik7XG5cbiAgICAgIC8vIENsZWFyIGFsbCB0b2tlbnMgYW5kIHN0YXRlIEZJUlNUXG4gICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBkZWxldGVDb29raWUoXCJ0b2tlblwiLCB7IHBhdGg6IFwiL1wiIH0pO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyX2RhdGFcIik7XG4gICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdO1xuXG4gICAgICAvLyBDbGVhciB0b2tlbiByZWZyZXNoIGludGVydmFsXG4gICAgICBpZiAodG9rZW5SZWZyZXNoSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICB0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCB0aGUgQVBJIHRvIGxvZ291dCAtIGRvbid0IHdhaXQgZm9yIGl0XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC9sb2dvdXRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sXG4gICAgICAgICAgfSkuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKFwiTG9nb3V0IEFQSSBlcnJvciAobm9uLWNyaXRpY2FsKTpcIiwgZSkpO1xuICAgICAgICB9IGNhdGNoIChhcGlFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9nb3V0IEFQSSBjYWxsIGVycm9yIChub24tY3JpdGljYWwpOlwiLCBhcGlFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRm9yY2UgaGFyZCByZWRpcmVjdCB0byBsb2dpbiBwYWdlIHdpdGggbG9nZ2VkX291dCBmbGFnIGFuZCB0aW1lc3RhbXBcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBsb2dnaW5nIG91dCBmbGFnIHJpZ2h0IGJlZm9yZSByZWRpcmVjdGluZ1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJpc0xvZ2dpbmdPdXRcIik7XG5cbiAgICAgIC8vIFVzZSByZXBsYWNlIHRvIGNyZWF0ZSBhIGNsZWFuIG5hdmlnYXRpb24gaGlzdG9yeVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYC9sb2dpbj9sb2dnZWRfb3V0PXRydWUmdD0ke3RpbWVzdGFtcH1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkxvZ291dCBwcm9jZXNzIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayByZWRpcmVjdCBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvbG9naW4/bG9nZ2VkX291dD10cnVlXCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGxvZ2dlZCBpbiB3aXRoIGNvbmN1cnJlbmN5IGhhbmRsaW5nIHVzaW5nIGEgc3RvcmVkIHByb21pc2VcbiAgY29uc3QgY2hlY2tVc2VyTG9nZ2VkSW4gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGF1dGhQcm9taXNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBhdXRoUHJvbWlzZVJlZi5jdXJyZW50O1xuICAgIH1cblxuICAgIGF1dGhQcm9taXNlUmVmLmN1cnJlbnQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmV0cmlldmUgdG9rZW4gZnJvbSBjb29raWUgb3IgbG9jYWxTdG9yYWdlXG4gICAgICAgIGxldCB0b2tlbiA9XG4gICAgICAgICAgZ2V0Q29va2llKFwidG9rZW5cIikgfHxcbiAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIikpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2tpbmcgYXV0aDpcIiwgdG9rZW4gPyBcIlRva2VuIGV4aXN0c1wiIDogXCJObyB0b2tlblwiKTtcblxuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRva2VuID0gdG9rZW4udHJpbSgpO1xuICAgICAgICBzZXR1cEF4aW9zRGVmYXVsdHModG9rZW4pO1xuXG4gICAgICAgIC8vIElmIHRva2VuIGV4aXN0cyBpbiBsb2NhbFN0b3JhZ2UgYnV0IG5vdCBpbiBjb29raWUsIHJlc3RvcmUgaXRcbiAgICAgICAgaWYgKCFnZXRDb29raWUoXCJ0b2tlblwiKSAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgdG9rZW4sIHtcbiAgICAgICAgICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsXG4gICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gdXNlIGNhY2hlZCB1c2VyIGRhdGEgKG5vbi1ibG9ja2luZylcbiAgICAgICAgY29uc3QgY2FjaGVkVXNlciA9XG4gICAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgICAgaWYgKGNhY2hlZFVzZXIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKGNhY2hlZFVzZXIpO1xuICAgICAgICAgICAgc2V0VXNlcih1c2VyRGF0YSk7XG4gICAgICAgICAgICAvLyBTdGlsbCBjb250aW51ZSB0byBmZXRjaCBmcmVzaCBkYXRhIGJlbG93XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHBhcnNpbmcgY2FjaGVkIHVzZXIgZGF0YVwiLCBlKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcl9kYXRhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZldGNoIGZyZXNoIHVzZXIgZGF0YSBmcm9tIHRoZSBBUElcbiAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyB1c2VyIGRhdGEgZnJvbSBBUElcIik7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC9tZWBcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIHNldFVzZXIocmVzLmRhdGEuZGF0YSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyX2RhdGFcIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpO1xuICAgICAgICAgIHNldHVwVG9rZW5SZWZyZXNoKCk7XG4gICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmRhdGE7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyOlwiLCBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5hdXRob3JpemVkIGFjY2VzcyAtIGNsZWFyaW5nIHRva2Vuc1wiKTtcbiAgICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICAgIGRlbGV0ZUNvb2tpZShcInRva2VuXCIsIHsgcGF0aDogXCIvXCIgfSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcl9kYXRhXCIpO1xuICAgICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb25cIl07XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBhdXRoUHJvbWlzZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pKCk7XG5cbiAgICByZXR1cm4gYXV0aFByb21pc2VSZWYuY3VycmVudDtcbiAgfTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBzcGVjaWZpZWQgcGVybWlzc2lvblxuICBjb25zdCBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoW1wiYWRtaW5cIiwgXCJzdXBlcmFkbWluXCJdLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdXNlci5wZXJtaXNzaW9ucyAmJiB1c2VyLnBlcm1pc3Npb25zLmluY2x1ZGVzKHBlcm1pc3Npb24pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICB1c2VyLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVnaXN0ZXIsXG4gICAgICAgIGxvZ2luLFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIGhhc1Blcm1pc3Npb24sXG4gICAgICAgIGNoZWNrVXNlckxvZ2dlZEluLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJheGlvcyIsInNldENvb2tpZSIsImdldENvb2tpZSIsImRlbGV0ZUNvb2tpZSIsIkF1dGhDb250ZXh0Iiwic2V0dXBBeGlvc0RlZmF1bHRzIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwicm91dGVyIiwiYXV0aFByb21pc2VSZWYiLCJ0b2tlblJlZnJlc2hJbnRlcnZhbFJlZiIsImluaXRBdXRoIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRyaW0iLCJjaGVja1VzZXJMb2dnZWRJbiIsImN1cnJlbnQiLCJjbGVhckludGVydmFsIiwic2V0dXBUb2tlblJlZnJlc2giLCJzZXRJbnRlcnZhbCIsInJlZnJlc2hSZXMiLCJnZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkF1dGhvcml6YXRpb24iLCJkYXRhIiwic3VjY2VzcyIsIm5ld1Rva2VuIiwibWF4QWdlIiwicGF0aCIsImNvbnNvbGUiLCJsb2dvdXQiLCJyZWdpc3RlciIsInVzZXJEYXRhIiwicmVzIiwicG9zdCIsIndpdGhDcmVkZW50aWFscyIsInB1c2giLCJyZXNwb25zZSIsInNldFRpbWVvdXQiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJsb2ciLCJyZW1vdmVJdGVtIiwicmVxdWlyZVR3b0ZhY3RvciIsInBhdGhuYW1lIiwicXVlcnkiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImZldGNoIiwibWV0aG9kIiwiY2F0Y2giLCJlIiwiYXBpRXJyb3IiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwicmVwbGFjZSIsImNhY2hlZFVzZXIiLCJwYXJzZSIsInN0YXR1cyIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwiaW5jbHVkZXMiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQXV0aCIsImNvbnRleHQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/context/AuthContext.js\n");

/***/ }),

/***/ "./src/pages/profile/two-factor.js":
/*!*****************************************!*\
  !*** ./src/pages/profile/two-factor.js ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TwoFactorAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hook-form */ \"react-hook-form\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../context/AuthContext */ \"./src/context/AuthContext.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_7__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_hook_form__WEBPACK_IMPORTED_MODULE_3__, _context_AuthContext__WEBPACK_IMPORTED_MODULE_4__, axios__WEBPACK_IMPORTED_MODULE_5__]);\n([react_hook_form__WEBPACK_IMPORTED_MODULE_3__, _context_AuthContext__WEBPACK_IMPORTED_MODULE_4__, axios__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction TwoFactorAuth() {\n    const { user , loading  } = (0,_context_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [setupMode, setSetupMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [qrCode, setQrCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [secret, setSecret] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [recoveryCodes, setRecoveryCodes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { register , handleSubmit , formState: { errors  } , reset  } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.useForm)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!loading && !user) {\n            router.push(\"/login\");\n        }\n    }, [\n        user,\n        loading,\n        router\n    ]);\n    const setup2FA = async ()=>{\n        try {\n            setError(null);\n            setIsSubmitting(true);\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_6__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            console.log(\"Setting up 2FA with token:\", token ? \"exists\" : \"missing\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/2fa/setup`, {}, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            console.log(\"2FA setup response:\", response.data);\n            setQrCode(response.data.data.qrCode);\n            setSecret(response.data.data.secret);\n            setSetupMode(true);\n        } catch (err) {\n            console.error(\"2FA setup error:\", err);\n            setError(\"Failed to setup 2FA. Please try again later.\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const enable2FA = async (data)=>{\n        try {\n            setError(null);\n            setIsSubmitting(true);\n            console.log(\"Enabling 2FA with token:\", data.token);\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_6__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            // Make sure we're sending the token correctly\n            const payload = {\n                token: data.token.trim()\n            };\n            console.log(\"Sending payload to enable 2FA:\", payload);\n            const response = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/2fa/enable`, payload, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            console.log(\"2FA enable response:\", response.data);\n            setSuccess(\"Two-factor authentication has been successfully enabled\");\n            setSetupMode(false);\n            // Generate recovery codes right after enabling 2FA\n            generateRecoveryCodes();\n            // Reload the page after a delay to reflect changes\n            setTimeout(()=>{\n                router.reload();\n            }, 5000);\n        } catch (err) {\n            console.error(\"2FA enable error:\", err);\n            if (err.response && err.response.data) {\n                console.error(\"Error response data:\", err.response.data);\n            }\n            setError(err.response?.data?.error || \"Failed to verify code. Please make sure you entered it correctly.\");\n        } finally{\n            setIsSubmitting(false);\n            reset();\n        }\n    };\n    const disable2FA = async (data)=>{\n        try {\n            setError(null);\n            setIsSubmitting(true);\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_6__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/2fa/disable`, {\n                token: data.token\n            }, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            console.log(\"2FA disable response:\", response.data);\n            setSuccess(\"Two-factor authentication has been successfully disabled\");\n            setTimeout(()=>{\n                router.reload();\n            }, 2000);\n        } catch (err) {\n            console.error(\"2FA disable error:\", err);\n            setError(err.response?.data?.error || \"Failed to verify code. Please make sure you entered it correctly.\");\n        } finally{\n            setIsSubmitting(false);\n            reset();\n        }\n    };\n    const generateRecoveryCodes = async ()=>{\n        try {\n            setError(null);\n            setIsSubmitting(true);\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_6__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/auth/2fa/recovery-codes`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            console.log(\"Recovery codes generated:\", response.data);\n            // Display recovery codes\n            setRecoveryCodes(response.data.data.recoveryCodes);\n        } catch (err) {\n            console.error(\"Recovery codes generation error:\", err);\n            setError(\"Failed to generate recovery codes. Please try again later.\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex justify-center items-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-lg text-gray-500\",\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                lineNumber: 178,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n            lineNumber: 177,\n            columnNumber: 7\n        }, this);\n    }\n    if (!user) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_7___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                    children: \"Two-Factor Authentication - Secure Auth System\"\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                    lineNumber: 190,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                lineNumber: 189,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"bg-white shadow\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between h-16\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xl font-bold text-primary-600\",\n                                    children: \"Secure Auth System\"\n                                }, void 0, false, {\n                                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                    lineNumber: 197,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 196,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/dashboard\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 202,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/profile\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"My Profile\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 201,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                        lineNumber: 195,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                    lineNumber: 194,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-semibold text-gray-900 mb-6\",\n                        children: \"Two-Factor Authentication\"\n                    }, void 0, false, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"alert alert-error mb-6\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                        lineNumber: 224,\n                        columnNumber: 19\n                    }, this),\n                    success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"alert alert-success mb-6\",\n                        children: success\n                    }, void 0, false, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                        lineNumber: 225,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white overflow-hidden shadow rounded-lg p-6 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-medium text-gray-900 mb-4\",\n                                children: user.twoFactorEnabled ? \"Manage Two-Factor Authentication\" : \"Setup Two-Factor Authentication\"\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 228,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 mb-6\",\n                                children: \"Two-factor authentication adds an extra layer of security to your account. When 2FA is enabled, you'll need to provide a verification code from your authenticator app in addition to your password when logging in.\"\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, this),\n                            !setupMode && !user.twoFactorEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: setup2FA,\n                                disabled: isSubmitting,\n                                className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                                children: isSubmitting ? \"Setting up...\" : \"Setup Two-Factor Authentication\"\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 242,\n                                columnNumber: 13\n                            }, this),\n                            setupMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-md font-medium text-gray-900 mb-3\",\n                                        children: \"Scan this QR code with your authenticator app\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 255,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-col md:flex-row gap-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-white p-4 border border-gray-300 rounded-md inline-block\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: qrCode,\n                                                    alt: \"QR Code for 2FA\",\n                                                    className: \"h-48 w-48\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                    lineNumber: 261,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 260,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-600 mb-4\",\n                                                        children: \"Scan the QR code with an authenticator app like Google Authenticator, Authy, or Microsoft Authenticator. If you can't scan the QR code, you can manually enter this code:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 269,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-gray-100 p-3 rounded-md font-mono text-sm break-all mb-4\",\n                                                        children: secret\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 275,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                                        onSubmit: handleSubmit(enable2FA),\n                                                        className: \"mt-4\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"form-group\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                        htmlFor: \"token\",\n                                                                        className: \"block text-sm font-medium text-gray-700\",\n                                                                        children: \"Verification Code\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 281,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                        id: \"token\",\n                                                                        type: \"text\",\n                                                                        placeholder: \"Enter the 6-digit code\",\n                                                                        ...register(\"token\", {\n                                                                            required: \"Verification code is required\",\n                                                                            pattern: {\n                                                                                value: /^\\d{6}$/,\n                                                                                message: \"Must be a 6-digit code\"\n                                                                            }\n                                                                        }),\n                                                                        className: `form-control ${errors.token ? \"is-invalid\" : \"\"}`\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 287,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    errors.token && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"error-message\",\n                                                                        children: errors.token.message\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 303,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 280,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex gap-3 mt-6\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        type: \"submit\",\n                                                                        disabled: isSubmitting,\n                                                                        className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                                                                        children: isSubmitting ? \"Verifying...\" : \"Verify and Enable\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 310,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        type: \"button\",\n                                                                        onClick: ()=>setSetupMode(false),\n                                                                        className: \"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                                                                        children: \"Cancel\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 318,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 309,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 279,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 268,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 259,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 254,\n                                columnNumber: 13\n                            }, this),\n                            user.twoFactorEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center mb-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"h-6 w-6 text-green-500\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: \"2\",\n                                                        d: \"M5 13l4 4L19 7\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 342,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                    lineNumber: 336,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 335,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-medium text-gray-900\",\n                                                    children: \"Two-factor authentication is enabled for your account\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                    lineNumber: 351,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 350,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 334,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"border-t border-gray-200 pt-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-md font-medium text-gray-900 mb-3\",\n                                                children: \"Disable Two-Factor Authentication\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 358,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600 mb-4\",\n                                                children: \"If you want to disable two-factor authentication, please enter a verification code from your authenticator app.\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 362,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                                onSubmit: handleSubmit(disable2FA),\n                                                className: \"mt-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"form-group\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"disable-token\",\n                                                                className: \"block text-sm font-medium text-gray-700\",\n                                                                children: \"Verification Code\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 369,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                id: \"disable-token\",\n                                                                type: \"text\",\n                                                                placeholder: \"Enter the 6-digit code\",\n                                                                ...register(\"token\", {\n                                                                    required: \"Verification code is required\",\n                                                                    pattern: {\n                                                                        value: /^\\d{6}$/,\n                                                                        message: \"Must be a 6-digit code\"\n                                                                    }\n                                                                }),\n                                                                className: `form-control max-w-xs ${errors.token ? \"is-invalid\" : \"\"}`\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 375,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            errors.token && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"error-message\",\n                                                                children: errors.token.message\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 391,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 368,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"submit\",\n                                                        disabled: isSubmitting,\n                                                        className: \"mt-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",\n                                                        children: isSubmitting ? \"Processing...\" : \"Disable Two-Factor Authentication\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 397,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 367,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 357,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"border-t border-gray-200 pt-6 mt-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-md font-medium text-gray-900 mb-3\",\n                                                children: \"Recovery Codes\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 410,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600 mb-4\",\n                                                children: \"Recovery codes can be used to access your account if you lose your device with the authenticator app. Please store these codes in a secure place. They will only be shown once.\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 414,\n                                                columnNumber: 17\n                                            }, this),\n                                            recoveryCodes ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-gray-100 p-4 rounded-md mb-4\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                className: \"text-sm font-bold text-red-600 mb-2\",\n                                                                children: \"Important: These codes will only be shown once!\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 423,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"grid grid-cols-2 gap-2\",\n                                                                children: recoveryCodes.map((code, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"font-mono text-sm\",\n                                                                        children: code\n                                                                    }, index, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                        lineNumber: 428,\n                                                                        columnNumber: 27\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                                lineNumber: 426,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 422,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: ()=>{\n                                                            navigator.clipboard.writeText(recoveryCodes.join(\"\\n\"));\n                                                            alert(\"Recovery codes copied to clipboard\");\n                                                        },\n                                                        className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 mr-2\",\n                                                        children: \"Copy to Clipboard\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 434,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        type: \"button\",\n                                                        onClick: ()=>setRecoveryCodes(null),\n                                                        className: \"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                                                        children: \"Done\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                        lineNumber: 444,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 421,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: generateRecoveryCodes,\n                                                disabled: isSubmitting,\n                                                className: \"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                                                children: isSubmitting ? \"Generating...\" : \"Generate Recovery Codes\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                                lineNumber: 453,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                        lineNumber: 409,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                                lineNumber: 333,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                        lineNumber: 227,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/redlight/auth/frontend/src/pages/profile/two-factor.js\",\n        lineNumber: 188,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCw4REFBQ0Q7Z0VBQUlDLFdBQVU7MEVBQ1poQyxjQUFjcUUsR0FBRyxDQUFDLENBQUNDLE1BQU1DLHNCQUN4Qiw4REFBQ3hDO3dFQUFnQkMsV0FBVTtrRkFDeEJzQzt1RUFET0M7Ozs7Ozs7Ozs7Ozs7Ozs7a0VBTWhCLDhEQUFDcEM7d0RBQ0NpQixNQUFLO3dEQUNMaEIsU0FBUyxJQUFNOzREQUNib0MsVUFBVUMsU0FBUyxDQUFDQyxTQUFTLENBQUMxRSxjQUFjMkUsSUFBSSxDQUFDOzREQUNqREMsTUFBTTt3REFDUjt3REFDQTVDLFdBQVU7a0VBQ1g7Ozs7OztrRUFHRCw4REFBQ0c7d0RBQ0NpQixNQUFLO3dEQUNMaEIsU0FBUyxJQUFNbkMsaUJBQWlCLElBQUk7d0RBQ3BDK0IsV0FBVTtrRUFDWDs7Ozs7Ozs7Ozs7cUVBS0gsOERBQUNHO2dEQUNDaUIsTUFBSztnREFDTGhCLFNBQVNWO2dEQUNUZSxVQUFVL0M7Z0RBQ1ZzQyxXQUFVOzBEQUVUdEMsZUFBZSxrQkFBa0IseUJBQXlCOzs7OztvREFFOUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRakIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGgtZnJvbnRlbmQvLi9zcmMvcGFnZXMvcHJvZmlsZS90d28tZmFjdG9yLmpzPzRmM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSBcInJlYWN0LWhvb2stZm9ybVwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L0F1dGhDb250ZXh0XCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBnZXRDb29raWUgfSBmcm9tIFwiY29va2llcy1uZXh0XCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFR3b0ZhY3RvckF1dGgoKSB7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICBjb25zdCBbc2V0dXBNb2RlLCBzZXRTZXR1cE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcXJDb2RlLCBzZXRRckNvZGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzZWNyZXQsIHNldFNlY3JldF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3N1Y2Nlc3MsIHNldFN1Y2Nlc3NdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtyZWNvdmVyeUNvZGVzLCBzZXRSZWNvdmVyeUNvZGVzXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IHtcbiAgICByZWdpc3RlcixcbiAgICBoYW5kbGVTdWJtaXQsXG4gICAgZm9ybVN0YXRlOiB7IGVycm9ycyB9LFxuICAgIHJlc2V0LFxuICB9ID0gdXNlRm9ybSgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsb2FkaW5nICYmICF1c2VyKSB7XG4gICAgICByb3V0ZXIucHVzaChcIi9sb2dpblwiKTtcbiAgICB9XG4gIH0sIFt1c2VyLCBsb2FkaW5nLCByb3V0ZXJdKTtcblxuICBjb25zdCBzZXR1cDJGQSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IHRva2VuID0gZ2V0Q29va2llKFwidG9rZW5cIikgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgY29uc29sZS5sb2coXCJTZXR0aW5nIHVwIDJGQSB3aXRoIHRva2VuOlwiLCB0b2tlbiA/IFwiZXhpc3RzXCIgOiBcIm1pc3NpbmdcIik7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvMmZhL3NldHVwYCxcbiAgICAgICAge30sXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIjJGQSBzZXR1cCByZXNwb25zZTpcIiwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBzZXRRckNvZGUocmVzcG9uc2UuZGF0YS5kYXRhLnFyQ29kZSk7XG4gICAgICBzZXRTZWNyZXQocmVzcG9uc2UuZGF0YS5kYXRhLnNlY3JldCk7XG4gICAgICBzZXRTZXR1cE1vZGUodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiMkZBIHNldHVwIGVycm9yOlwiLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gc2V0dXAgMkZBLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZW5hYmxlMkZBID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiRW5hYmxpbmcgMkZBIHdpdGggdG9rZW46XCIsIGRhdGEudG9rZW4pO1xuICAgICAgY29uc3QgdG9rZW4gPSBnZXRDb29raWUoXCJ0b2tlblwiKSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIik7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBzZW5kaW5nIHRoZSB0b2tlbiBjb3JyZWN0bHlcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHRva2VuOiBkYXRhLnRva2VuLnRyaW0oKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBwYXlsb2FkIHRvIGVuYWJsZSAyRkE6XCIsIHBheWxvYWQpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXG4gICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkx9L2FwaS92MS9hdXRoLzJmYS9lbmFibGVgLFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIjJGQSBlbmFibGUgcmVzcG9uc2U6XCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgc2V0U3VjY2VzcyhcIlR3by1mYWN0b3IgYXV0aGVudGljYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGVuYWJsZWRcIik7XG4gICAgICBzZXRTZXR1cE1vZGUoZmFsc2UpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSByZWNvdmVyeSBjb2RlcyByaWdodCBhZnRlciBlbmFibGluZyAyRkFcbiAgICAgIGdlbmVyYXRlUmVjb3ZlcnlDb2RlcygpO1xuXG4gICAgICAvLyBSZWxvYWQgdGhlIHBhZ2UgYWZ0ZXIgYSBkZWxheSB0byByZWZsZWN0IGNoYW5nZXNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByb3V0ZXIucmVsb2FkKCk7XG4gICAgICB9LCA1MDAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCIyRkEgZW5hYmxlIGVycm9yOlwiLCBlcnIpO1xuICAgICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2UuZGF0YSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVzcG9uc2UgZGF0YTpcIiwgZXJyLnJlc3BvbnNlLmRhdGEpO1xuICAgICAgfVxuICAgICAgc2V0RXJyb3IoXG4gICAgICAgIGVyci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHxcbiAgICAgICAgICBcIkZhaWxlZCB0byB2ZXJpZnkgY29kZS4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgZW50ZXJlZCBpdCBjb3JyZWN0bHkuXCJcbiAgICAgICk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNhYmxlMkZBID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IHRva2VuID0gZ2V0Q29va2llKFwidG9rZW5cIikgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC8yZmEvZGlzYWJsZWAsXG4gICAgICAgIHsgdG9rZW46IGRhdGEudG9rZW4gfSxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiMkZBIGRpc2FibGUgcmVzcG9uc2U6XCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgc2V0U3VjY2VzcyhcIlR3by1mYWN0b3IgYXV0aGVudGljYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGRpc2FibGVkXCIpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJvdXRlci5yZWxvYWQoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIjJGQSBkaXNhYmxlIGVycm9yOlwiLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoXG4gICAgICAgIGVyci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHxcbiAgICAgICAgICBcIkZhaWxlZCB0byB2ZXJpZnkgY29kZS4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgZW50ZXJlZCBpdCBjb3JyZWN0bHkuXCJcbiAgICAgICk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZW5lcmF0ZVJlY292ZXJ5Q29kZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuXG4gICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC8yZmEvcmVjb3ZlcnktY29kZXNgLFxuICAgICAgICB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgY29uc29sZS5sb2coXCJSZWNvdmVyeSBjb2RlcyBnZW5lcmF0ZWQ6XCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgLy8gRGlzcGxheSByZWNvdmVyeSBjb2Rlc1xuICAgICAgc2V0UmVjb3ZlcnlDb2RlcyhyZXNwb25zZS5kYXRhLmRhdGEucmVjb3ZlcnlDb2Rlcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVjb3ZlcnkgY29kZXMgZ2VuZXJhdGlvbiBlcnJvcjpcIiwgZXJyKTtcbiAgICAgIHNldEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHJlY292ZXJ5IGNvZGVzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQtZ3JheS01MDBcIj5Mb2FkaW5nLi4uPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPlR3by1GYWN0b3IgQXV0aGVudGljYXRpb24gLSBTZWN1cmUgQXV0aCBTeXN0ZW08L3RpdGxlPlxuICAgICAgPC9IZWFkPlxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBoLTE2XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1wcmltYXJ5LTYwMFwiPlxuICAgICAgICAgICAgICAgIFNlY3VyZSBBdXRoIFN5c3RlbVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL2Rhc2hib2FyZFwiKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERhc2hib2FyZFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL3Byb2ZpbGVcIil9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMTAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBNeSBQcm9maWxlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uYXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHktNiBzbTpweC02IGxnOnB4LThcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi02XCI+XG4gICAgICAgICAgVHdvLUZhY3RvciBBdXRoZW50aWNhdGlvblxuICAgICAgICA8L2gxPlxuXG4gICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWVycm9yIG1iLTZcIj57ZXJyb3J9PC9kaXY+fVxuICAgICAgICB7c3VjY2VzcyAmJiA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MgbWItNlwiPntzdWNjZXNzfTwvZGl2Pn1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIG92ZXJmbG93LWhpZGRlbiBzaGFkb3cgcm91bmRlZC1sZyBwLTYgbWItNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAge3VzZXIudHdvRmFjdG9yRW5hYmxlZFxuICAgICAgICAgICAgICA/IFwiTWFuYWdlIFR3by1GYWN0b3IgQXV0aGVudGljYXRpb25cIlxuICAgICAgICAgICAgICA6IFwiU2V0dXAgVHdvLUZhY3RvciBBdXRoZW50aWNhdGlvblwifVxuICAgICAgICAgIDwvaDI+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5cbiAgICAgICAgICAgIFR3by1mYWN0b3IgYXV0aGVudGljYXRpb24gYWRkcyBhbiBleHRyYSBsYXllciBvZiBzZWN1cml0eSB0byB5b3VyXG4gICAgICAgICAgICBhY2NvdW50LiBXaGVuIDJGQSBpcyBlbmFibGVkLCB5b3UnbGwgbmVlZCB0byBwcm92aWRlIGEgdmVyaWZpY2F0aW9uXG4gICAgICAgICAgICBjb2RlIGZyb20geW91ciBhdXRoZW50aWNhdG9yIGFwcCBpbiBhZGRpdGlvbiB0byB5b3VyIHBhc3N3b3JkIHdoZW5cbiAgICAgICAgICAgIGxvZ2dpbmcgaW4uXG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgeyFzZXR1cE1vZGUgJiYgIXVzZXIudHdvRmFjdG9yRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3NldHVwMkZBfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBweS0yIHB4LTQgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBzaGFkb3ctc20gdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtd2hpdGUgYmctcHJpbWFyeS02MDAgaG92ZXI6YmctcHJpbWFyeS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nXG4gICAgICAgICAgICAgICAgPyBcIlNldHRpbmcgdXAuLi5cIlxuICAgICAgICAgICAgICAgIDogXCJTZXR1cCBUd28tRmFjdG9yIEF1dGhlbnRpY2F0aW9uXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3NldHVwTW9kZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTZcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgU2NhbiB0aGlzIFFSIGNvZGUgd2l0aCB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwXG4gICAgICAgICAgICAgIDwvaDM+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGdhcC02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGlubGluZS1ibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICBzcmM9e3FyQ29kZX1cbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiUVIgQ29kZSBmb3IgMkZBXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00OCB3LTQ4XCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgU2NhbiB0aGUgUVIgY29kZSB3aXRoIGFuIGF1dGhlbnRpY2F0b3IgYXBwIGxpa2UgR29vZ2xlXG4gICAgICAgICAgICAgICAgICAgIEF1dGhlbnRpY2F0b3IsIEF1dGh5LCBvciBNaWNyb3NvZnQgQXV0aGVudGljYXRvci4gSWYgeW91XG4gICAgICAgICAgICAgICAgICAgIGNhbid0IHNjYW4gdGhlIFFSIGNvZGUsIHlvdSBjYW4gbWFudWFsbHkgZW50ZXIgdGhpcyBjb2RlOlxuICAgICAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIHAtMyByb3VuZGVkLW1kIGZvbnQtbW9ubyB0ZXh0LXNtIGJyZWFrLWFsbCBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWNyZXR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdChlbmFibGUyRkEpfSBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cInRva2VuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVmVyaWZpY2F0aW9uIENvZGVcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0b2tlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHRoZSA2LWRpZ2l0IGNvZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwidG9rZW5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogXCJWZXJpZmljYXRpb24gY29kZSBpcyByZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IC9eXFxkezZ9JC8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJNdXN0IGJlIGEgNi1kaWdpdCBjb2RlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZvcm0tY29udHJvbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMudG9rZW4gPyBcImlzLWludmFsaWRcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAge2Vycm9ycy50b2tlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcnMudG9rZW4ubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgbXQtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGp1c3RpZnktY2VudGVyIHB5LTIgcHgtNCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHNoYWRvdy1zbSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgdGV4dC13aGl0ZSBiZy1wcmltYXJ5LTYwMCBob3ZlcjpiZy1wcmltYXJ5LTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/IFwiVmVyaWZ5aW5nLi4uXCIgOiBcIlZlcmlmeSBhbmQgRW5hYmxlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNldHVwTW9kZShmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBweS0yIHB4LTQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBzaGFkb3ctc20gdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtZ3JheS03MDAgYmctd2hpdGUgaG92ZXI6YmctZ3JheS01MCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7dXNlci50d29GYWN0b3JFbmFibGVkICYmIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtZ3JlZW4tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgICAgZD1cIk01IDEzbDQgNEwxOSA3XCJcbiAgICAgICAgICAgICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtM1wiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIFR3by1mYWN0b3IgYXV0aGVudGljYXRpb24gaXMgZW5hYmxlZCBmb3IgeW91ciBhY2NvdW50XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIHB0LTZcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1tZCBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgIERpc2FibGUgVHdvLUZhY3RvciBBdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgICAgIDwvaDM+XG5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgSWYgeW91IHdhbnQgdG8gZGlzYWJsZSB0d28tZmFjdG9yIGF1dGhlbnRpY2F0aW9uLCBwbGVhc2UgZW50ZXJcbiAgICAgICAgICAgICAgICAgIGEgdmVyaWZpY2F0aW9uIGNvZGUgZnJvbSB5b3VyIGF1dGhlbnRpY2F0b3IgYXBwLlxuICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQoZGlzYWJsZTJGQSl9IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZGlzYWJsZS10b2tlblwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFZlcmlmaWNhdGlvbiBDb2RlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZGlzYWJsZS10b2tlblwiXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgdGhlIDYtZGlnaXQgY29kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKFwidG9rZW5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwiVmVyaWZpY2F0aW9uIGNvZGUgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IC9eXFxkezZ9JC8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTXVzdCBiZSBhIDYtZGlnaXQgY29kZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bmb3JtLWNvbnRyb2wgbWF4LXcteHMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy50b2tlbiA/IFwiaXMtaW52YWxpZFwiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnRva2VuICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnRva2VuLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTQgaW5saW5lLWZsZXgganVzdGlmeS1jZW50ZXIgcHktMiBweC00IGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgc2hhZG93LXNtIHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0ZXh0LXdoaXRlIGJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1yZWQtNTAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzU3VibWl0dGluZ1xuICAgICAgICAgICAgICAgICAgICAgID8gXCJQcm9jZXNzaW5nLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiRGlzYWJsZSBUd28tRmFjdG9yIEF1dGhlbnRpY2F0aW9uXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIHB0LTYgbXQtNlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LW1kIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgUmVjb3ZlcnkgQ29kZXNcbiAgICAgICAgICAgICAgICA8L2gzPlxuXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIFJlY292ZXJ5IGNvZGVzIGNhbiBiZSB1c2VkIHRvIGFjY2VzcyB5b3VyIGFjY291bnQgaWYgeW91IGxvc2VcbiAgICAgICAgICAgICAgICAgIHlvdXIgZGV2aWNlIHdpdGggdGhlIGF1dGhlbnRpY2F0b3IgYXBwLiBQbGVhc2Ugc3RvcmUgdGhlc2VcbiAgICAgICAgICAgICAgICAgIGNvZGVzIGluIGEgc2VjdXJlIHBsYWNlLiBUaGV5IHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgIHtyZWNvdmVyeUNvZGVzID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBwLTQgcm91bmRlZC1tZCBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtcmVkLTYwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBJbXBvcnRhbnQ6IFRoZXNlIGNvZGVzIHdpbGwgb25seSBiZSBzaG93biBvbmNlIVxuICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVjb3ZlcnlDb2Rlcy5tYXAoKGNvZGUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChyZWNvdmVyeUNvZGVzLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJSZWNvdmVyeSBjb2RlcyBjb3BpZWQgdG8gY2xpcGJvYXJkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXgganVzdGlmeS1jZW50ZXIgcHktMiBweC00IGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgc2hhZG93LXNtIHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0ZXh0LXdoaXRlIGJnLXByaW1hcnktNjAwIGhvdmVyOmJnLXByaW1hcnktNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIG1yLTJcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ29weSB0byBDbGlwYm9hcmRcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRSZWNvdmVyeUNvZGVzKG51bGwpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGp1c3RpZnktY2VudGVyIHB5LTIgcHgtNCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHNoYWRvdy1zbSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgdGV4dC1ncmF5LTcwMCBiZy13aGl0ZSBob3ZlcjpiZy1ncmF5LTUwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLXByaW1hcnktNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIERvbmVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Z2VuZXJhdGVSZWNvdmVyeUNvZGVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBweS0yIHB4LTQgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBzaGFkb3ctc20gdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtd2hpdGUgYmctcHJpbWFyeS02MDAgaG92ZXI6YmctcHJpbWFyeS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gXCJHZW5lcmF0aW5nLi4uXCIgOiBcIkdlbmVyYXRlIFJlY292ZXJ5IENvZGVzXCJ9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJ1c2VGb3JtIiwidXNlQXV0aCIsImF4aW9zIiwiZ2V0Q29va2llIiwiSGVhZCIsIlR3b0ZhY3RvckF1dGgiLCJ1c2VyIiwibG9hZGluZyIsInJvdXRlciIsInNldHVwTW9kZSIsInNldFNldHVwTW9kZSIsInFyQ29kZSIsInNldFFyQ29kZSIsInNlY3JldCIsInNldFNlY3JldCIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzdWNjZXNzIiwic2V0U3VjY2VzcyIsInJlY292ZXJ5Q29kZXMiLCJzZXRSZWNvdmVyeUNvZGVzIiwicmVnaXN0ZXIiLCJoYW5kbGVTdWJtaXQiLCJmb3JtU3RhdGUiLCJlcnJvcnMiLCJyZXNldCIsInB1c2giLCJzZXR1cDJGQSIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsInBvc3QiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsImVyciIsImVuYWJsZTJGQSIsInBheWxvYWQiLCJ0cmltIiwiZ2VuZXJhdGVSZWNvdmVyeUNvZGVzIiwic2V0VGltZW91dCIsInJlbG9hZCIsImRpc2FibGUyRkEiLCJnZXQiLCJkaXYiLCJjbGFzc05hbWUiLCJ0aXRsZSIsIm5hdiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJoMSIsImgyIiwidHdvRmFjdG9yRW5hYmxlZCIsInAiLCJkaXNhYmxlZCIsImgzIiwiaW1nIiwic3JjIiwiYWx0IiwiZm9ybSIsIm9uU3VibWl0IiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwicGF0dGVybiIsInZhbHVlIiwibWVzc2FnZSIsInNwYW4iLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJoNCIsIm1hcCIsImNvZGUiLCJpbmRleCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImpvaW4iLCJhbGVydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/profile/two-factor.js\n");

/***/ }),

/***/ "cookies-next":
/*!*******************************!*\
  !*** external "cookies-next" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("cookies-next");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next/head");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "react-hook-form":
/*!**********************************!*\
  !*** external "react-hook-form" ***!
  \**********************************/
/***/ ((module) => {

module.exports = import("react-hook-form");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/profile/two-factor.js"));
module.exports = __webpack_exports__;

})();