"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/admin/users";
exports.ids = ["pages/admin/users"];
exports.modules = {

/***/ "./src/components/Layout.js":
/*!**********************************!*\
  !*** ./src/components/Layout.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_context_AuthContext__WEBPACK_IMPORTED_MODULE_3__]);\n_context_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\nfunction Layout({ children , title , requireAuth =true  }) {\n    const { user , loading , logout , hasPermission  } = (0,_context_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        // If the page requires auth and we're not loading and there's no user, redirect\n        if (requireAuth && !loading && !user) {\n            router.push(\"/login\");\n        }\n    }, [\n        requireAuth,\n        loading,\n        user,\n        router\n    ]);\n    if (requireAuth && loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex justify-center items-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-lg text-gray-500\",\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                lineNumber: 21,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n            lineNumber: 20,\n            columnNumber: 7\n        }, this);\n    }\n    // If auth is required but there's no user, don't render anything\n    // Redirection will happen in the useEffect hook\n    if (requireAuth && !user) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                    children: title ? `${title} - Secure Auth System` : \"Secure Auth System\"\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                    lineNumber: 35,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                lineNumber: 34,\n                columnNumber: 7\n            }, this),\n            requireAuth && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"bg-white shadow\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between h-16\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xl font-bold text-primary-600\",\n                                    children: \"Secure Auth System\"\n                                }, void 0, false, {\n                                    fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                    lineNumber: 45,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                lineNumber: 44,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/dashboard\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 50,\n                                        columnNumber: 17\n                                    }, this),\n                                    user && (user.role === \"admin\" || user.role === \"superadmin\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/register?new_account=true\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Register New User\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 60,\n                                        columnNumber: 21\n                                    }, this),\n                                    hasPermission && hasPermission(\"manage_users\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/admin/users\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Manage Users\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 69,\n                                        columnNumber: 19\n                                    }, this),\n                                    user && (user.role === \"admin\" || user.role === \"superadmin\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/admin/roles\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Manage Roles\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 79,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/profile\"),\n                                        className: \"px-3 py-2 rounded text-sm text-gray-700 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"My Profile\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 87,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.preventDefault();\n                                            console.log(\"Logout clicked from Layout\");\n                                            // Create a function for clean logout\n                                            const performLogout = ()=>{\n                                                try {\n                                                    // Clear all authentication tokens first\n                                                    (0,cookies_next__WEBPACK_IMPORTED_MODULE_5__.deleteCookie)(\"token\", {\n                                                        path: \"/\"\n                                                    });\n                                                    localStorage.removeItem(\"auth_token\");\n                                                    localStorage.removeItem(\"user_data\");\n                                                    localStorage.removeItem(\"isLoggingOut\");\n                                                    // Remove authorization header\n                                                    delete axios.defaults.headers.common[\"Authorization\"];\n                                                    // Add a timestamp to prevent caching issues\n                                                    const timestamp = Date.now();\n                                                    // Use the logout parameter to indicate explicit logout intent\n                                                    const logoutUrl = `/login?logged_out=true&t=${timestamp}`;\n                                                    console.log(\"Redirecting to:\", logoutUrl);\n                                                    // Replace current location with login page to clear history\n                                                    window.location.replace(logoutUrl);\n                                                } catch (error) {\n                                                    console.error(\"Error during logout:\", error);\n                                                    // Fallback to context logout in case of error\n                                                    if (typeof logout === \"function\") {\n                                                        logout();\n                                                    } else {\n                                                        // Last resort fallback\n                                                        window.location.href = \"/login?logged_out=true\";\n                                                    }\n                                                }\n                                            };\n                                            // Execute the logout function\n                                            performLogout();\n                                        },\n                                        className: \"px-3 py-2 rounded text-sm text-red-600 hover:bg-gray-100 focus:outline-none\",\n                                        children: \"Logout\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                        lineNumber: 94,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                                lineNumber: 49,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                        lineNumber: 43,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                    lineNumber: 42,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                lineNumber: 41,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: requireAuth ? \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\" : \"\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/redlight/auth/frontend/src/components/Layout.js\",\n        lineNumber: 33,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVksQ0FBQyx5QkFBeUIsRUFBRUgsVUFBVSxDQUFDO29EQUV6RFYsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQlk7b0RBRS9CLDREQUE0RDtvREFDNURDLE9BQU9DLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDSDtnREFDMUIsRUFBRSxPQUFPSSxPQUFPO29EQUNkakIsUUFBUWlCLEtBQUssQ0FBQyx3QkFBd0JBO29EQUN0Qyw4Q0FBOEM7b0RBQzlDLElBQUksT0FBTzdCLFdBQVcsWUFBWTt3REFDaENBO29EQUNGLE9BQU87d0RBQ0wsdUJBQXVCO3dEQUN2QjBCLE9BQU9DLFFBQVEsQ0FBQ0csSUFBSSxHQUFHO29EQUN6QixDQUFDO2dEQUNIOzRDQUNGOzRDQUVBLDhCQUE4Qjs0Q0FDOUJoQjt3Q0FDRjt3Q0FDQVQsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFTWCw4REFBQ0Q7Z0JBQ0NDLFdBQVdSLGNBQWMsMkNBQTJDLEVBQUU7MEJBRXJFRjs7Ozs7Ozs7Ozs7O0FBSVQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGgtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9MYXlvdXQuanM/ZmU2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBkZWxldGVDb29raWUgfSBmcm9tIFwiY29va2llcy1uZXh0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dCh7IGNoaWxkcmVuLCB0aXRsZSwgcmVxdWlyZUF1dGggPSB0cnVlIH0pIHtcbiAgY29uc3QgeyB1c2VyLCBsb2FkaW5nLCBsb2dvdXQsIGhhc1Blcm1pc3Npb24gfSA9IHVzZUF1dGgoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJZiB0aGUgcGFnZSByZXF1aXJlcyBhdXRoIGFuZCB3ZSdyZSBub3QgbG9hZGluZyBhbmQgdGhlcmUncyBubyB1c2VyLCByZWRpcmVjdFxuICAgIGlmIChyZXF1aXJlQXV0aCAmJiAhbG9hZGluZyAmJiAhdXNlcikge1xuICAgICAgcm91dGVyLnB1c2goXCIvbG9naW5cIik7XG4gICAgfVxuICB9LCBbcmVxdWlyZUF1dGgsIGxvYWRpbmcsIHVzZXIsIHJvdXRlcl0pO1xuXG4gIGlmIChyZXF1aXJlQXV0aCAmJiBsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZy4uLjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIGF1dGggaXMgcmVxdWlyZWQgYnV0IHRoZXJlJ3Mgbm8gdXNlciwgZG9uJ3QgcmVuZGVyIGFueXRoaW5nXG4gIC8vIFJlZGlyZWN0aW9uIHdpbGwgaGFwcGVuIGluIHRoZSB1c2VFZmZlY3QgaG9va1xuICBpZiAocmVxdWlyZUF1dGggJiYgIXVzZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+XG4gICAgICAgICAge3RpdGxlID8gYCR7dGl0bGV9IC0gU2VjdXJlIEF1dGggU3lzdGVtYCA6IFwiU2VjdXJlIEF1dGggU3lzdGVtXCJ9XG4gICAgICAgIDwvdGl0bGU+XG4gICAgICA8L0hlYWQ+XG5cbiAgICAgIHtyZXF1aXJlQXV0aCAmJiAoXG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBoLTE2XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtcHJpbWFyeS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIFNlY3VyZSBBdXRoIFN5c3RlbVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChcIi9kYXNoYm9hcmRcIil9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBEYXNoYm9hcmRcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHsvKiBBZGQgUmVnaXN0ZXIgTmV3IEFjY291bnQgYnV0dG9uIGZvciBhZG1pbnMgKi99XG4gICAgICAgICAgICAgICAge3VzZXIgJiZcbiAgICAgICAgICAgICAgICAgICh1c2VyLnJvbGUgPT09IFwiYWRtaW5cIiB8fCB1c2VyLnJvbGUgPT09IFwic3VwZXJhZG1pblwiKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChcIi9yZWdpc3Rlcj9uZXdfYWNjb3VudD10cnVlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkIHRleHQtc20gdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTEwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgUmVnaXN0ZXIgTmV3IFVzZXJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge2hhc1Blcm1pc3Npb24gJiYgaGFzUGVybWlzc2lvbihcIm1hbmFnZV91c2Vyc1wiKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL2FkbWluL3VzZXJzXCIpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTWFuYWdlIFVzZXJzXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge3VzZXIgJiZcbiAgICAgICAgICAgICAgICAgICh1c2VyLnJvbGUgPT09IFwiYWRtaW5cIiB8fCB1c2VyLnJvbGUgPT09IFwic3VwZXJhZG1pblwiKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChcIi9hZG1pbi9yb2xlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIE1hbmFnZSBSb2xlc1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChcIi9wcm9maWxlXCIpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMTAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTXkgUHJvZmlsZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvZ291dCBjbGlja2VkIGZyb20gTGF5b3V0XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGZvciBjbGVhbiBsb2dvdXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgYWxsIGF1dGhlbnRpY2F0aW9uIHRva2VucyBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKFwidG9rZW5cIiwgeyBwYXRoOiBcIi9cIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYXV0aF90b2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcl9kYXRhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJpc0xvZ2dpbmdPdXRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgdGltZXN0YW1wIHRvIHByZXZlbnQgY2FjaGluZyBpc3N1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgbG9nb3V0IHBhcmFtZXRlciB0byBpbmRpY2F0ZSBleHBsaWNpdCBsb2dvdXQgaW50ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dvdXRVcmwgPSBgL2xvZ2luP2xvZ2dlZF9vdXQ9dHJ1ZSZ0PSR7dGltZXN0YW1wfWA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVkaXJlY3RpbmcgdG86XCIsIGxvZ291dFVybCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgY3VycmVudCBsb2NhdGlvbiB3aXRoIGxvZ2luIHBhZ2UgdG8gY2xlYXIgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UobG9nb3V0VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBsb2dvdXQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvbnRleHQgbG9nb3V0IGluIGNhc2Ugb2YgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbG9nb3V0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMYXN0IHJlc29ydCBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2xvZ2luP2xvZ2dlZF9vdXQ9dHJ1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBsb2dvdXQgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybUxvZ291dCgpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiByb3VuZGVkIHRleHQtc20gdGV4dC1yZWQtNjAwIGhvdmVyOmJnLWdyYXktMTAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTG9nb3V0XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmF2PlxuICAgICAgKX1cblxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e3JlcXVpcmVBdXRoID8gXCJtYXgtdy03eGwgbXgtYXV0byBweS02IHNtOnB4LTYgbGc6cHgtOFwiIDogXCJcIn1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiSGVhZCIsInVzZVJvdXRlciIsInVzZUF1dGgiLCJ1c2VFZmZlY3QiLCJkZWxldGVDb29raWUiLCJMYXlvdXQiLCJjaGlsZHJlbiIsInRpdGxlIiwicmVxdWlyZUF1dGgiLCJ1c2VyIiwibG9hZGluZyIsImxvZ291dCIsImhhc1Blcm1pc3Npb24iLCJyb3V0ZXIiLCJwdXNoIiwiZGl2IiwiY2xhc3NOYW1lIiwibmF2IiwiYnV0dG9uIiwib25DbGljayIsInJvbGUiLCJlIiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibG9nIiwicGVyZm9ybUxvZ291dCIsInBhdGgiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiYXhpb3MiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwibG9nb3V0VXJsIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwiZXJyb3IiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/Layout.js\n");

/***/ }),

/***/ "./src/context/AuthContext.js":
/*!************************************!*\
  !*** ./src/context/AuthContext.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthProvider\": () => (/* binding */ AuthProvider),\n/* harmony export */   \"useAuth\": () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_3__]);\naxios__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Create context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\n// Setup axios defaults and interceptors to handle auth\nconst setupAxiosDefaults = (token)=>{\n    if (token) {\n        axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization = `Bearer ${token}`;\n    } else {\n        delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n    }\n};\nconst AuthProvider = ({ children  })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Use refs for concurrency and interval management\n    const authPromiseRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tokenRefreshIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize auth on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initAuth = async ()=>{\n            // Get token from localStorage or cookie\n            const token =  false ? 0 : null;\n            if (token) {\n                // Set default authorization header\n                setupAxiosDefaults(token.trim());\n            }\n            await checkUserLoggedIn();\n        };\n        initAuth();\n        // Cleanup the token refresh interval on unmount\n        return ()=>{\n            if (tokenRefreshIntervalRef.current) {\n                clearInterval(tokenRefreshIntervalRef.current);\n            }\n        };\n    }, []);\n    // Setup a token refresh mechanism\n    const setupTokenRefresh = ()=>{\n        // Clear any existing interval\n        if (tokenRefreshIntervalRef.current) {\n            clearInterval(tokenRefreshIntervalRef.current);\n        }\n        // Refresh token every 55 minutes (just before standard 1-hour expiration)\n        tokenRefreshIntervalRef.current = setInterval(async ()=>{\n            try {\n                const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\");\n                if (token) {\n                    const refreshRes = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/auth/refresh-token`, {\n                        headers: {\n                            Authorization: `Bearer ${token.trim()}`\n                        }\n                    });\n                    if (refreshRes.data.success) {\n                        const newToken = refreshRes.data.token.trim();\n                        (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", newToken, {\n                            maxAge: 30 * 24 * 60 * 60,\n                            path: \"/\"\n                        });\n                        // Update axios default header with the new token\n                        setupAxiosDefaults(newToken);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Token refresh failed\", error);\n                // If refresh fails, log the user out\n                logout();\n            }\n        }, 55 * 60 * 1000);\n    };\n    // Register user\n    const register = async (userData)=>{\n        try {\n            const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/register`, userData, {\n                withCredentials: true\n            });\n            if (res.data.success) {\n                (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", res.data.token.trim(), {\n                    maxAge: 30 * 24 * 60 * 60,\n                    path: \"/\"\n                });\n                await checkUserLoggedIn(); // Fetch user data\n                setupTokenRefresh();\n                router.push(\"/dashboard\");\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || \"An error occurred during registration\");\n            setTimeout(()=>setError(null), 5000);\n        }\n    };\n    // Login user\n    const login = async ({ email , password  })=>{\n        try {\n            console.log(\"Attempting login with:\", {\n                email\n            });\n            // Clear previous tokens to avoid redirect loops\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                path: \"/\"\n            });\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_data\");\n            localStorage.removeItem(\"isLoggingOut\");\n            delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n            const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(`${\"http://localhost:5000\"}/api/v1/auth/login`, {\n                email,\n                password\n            }, {\n                withCredentials: true\n            });\n            console.log(\"Login response:\", res.data);\n            // Check if 2FA is required\n            if (res.data.requireTwoFactor) {\n                router.push({\n                    pathname: \"/login/verify-2fa\",\n                    query: {\n                        email\n                    }\n                });\n                return;\n            }\n            if (res.data.success && res.data.token) {\n                const token = res.data.token.trim();\n                // Store token in localStorage and cookie\n                localStorage.setItem(\"auth_token\", token);\n                (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.setCookie)(\"token\", token, {\n                    maxAge: 30 * 24 * 60 * 60,\n                    path: \"/\"\n                });\n                setupAxiosDefaults(token);\n                console.log(\"Token set in cookie and localStorage\");\n                if (res.data.user) {\n                    setUser(res.data.user);\n                    localStorage.setItem(\"user_data\", JSON.stringify(res.data.user));\n                }\n                // Fetch fresh user data\n                await checkUserLoggedIn();\n                setupTokenRefresh();\n                // Redirect to dashboard (using full reload to clear middleware if needed)\n                window.location.href = \"/dashboard\";\n                return res.data;\n            }\n            return res.data;\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            setError(error.response?.data?.error || \"Invalid credentials\");\n            setTimeout(()=>setError(null), 5000);\n            throw error;\n        }\n    };\n    // Logout user\n    const logout = async ()=>{\n        try {\n            console.log(\"AuthContext logout called\");\n            // Flag to prevent multiple logout attempts\n            localStorage.setItem(\"isLoggingOut\", \"true\");\n            // Clear all tokens and state FIRST\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") || localStorage.getItem(\"auth_token\");\n            setUser(null);\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                path: \"/\"\n            });\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_data\");\n            delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n            // Clear token refresh interval\n            if (tokenRefreshIntervalRef.current) {\n                clearInterval(tokenRefreshIntervalRef.current);\n                tokenRefreshIntervalRef.current = null;\n            }\n            // Call the API to logout - don't wait for it\n            if (token) {\n                try {\n                    fetch(`${\"http://localhost:5000\"}/api/v1/auth/logout`, {\n                        method: \"GET\",\n                        headers: {\n                            Authorization: `Bearer ${token}`\n                        }\n                    }).catch((e)=>console.log(\"Logout API error (non-critical):\", e));\n                } catch (apiError) {\n                    console.log(\"Logout API call error (non-critical):\", apiError);\n                }\n            }\n            // Force hard redirect to login page with logged_out flag and timestamp\n            const timestamp = Date.now();\n            // Clear the logging out flag right before redirecting\n            localStorage.removeItem(\"isLoggingOut\");\n            // Use replace to create a clean navigation history\n            if (false) {}\n        } catch (error) {\n            console.error(\"Logout process error:\", error);\n            // Fallback redirect if something went wrong\n            window.location.replace(\"/login?logged_out=true\");\n        }\n    };\n    // Check if user is logged in with concurrency handling using a stored promise\n    const checkUserLoggedIn = async ()=>{\n        if (authPromiseRef.current) {\n            return authPromiseRef.current;\n        }\n        authPromiseRef.current = (async ()=>{\n            try {\n                // Retrieve token from cookie or localStorage\n                let token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") ||  false && 0;\n                console.log(\"Checking auth:\", token ? \"Token exists\" : \"No token\");\n                if (!token) {\n                    setUser(null);\n                    localStorage.removeItem(\"user_data\");\n                    return null;\n                }\n                token = token.trim();\n                setupAxiosDefaults(token);\n                // If token exists in localStorage but not in cookie, restore it\n                if (!(0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\") && \"undefined\" !== \"undefined\") {}\n                // Attempt to use cached user data (non-blocking)\n                const cachedUser =  false && 0;\n                if (cachedUser) {\n                    try {\n                        const userData = JSON.parse(cachedUser);\n                        setUser(userData);\n                    // Still continue to fetch fresh data below\n                    } catch (e) {\n                        console.error(\"Error parsing cached user data\", e);\n                        localStorage.removeItem(\"user_data\");\n                    }\n                }\n                // Fetch fresh user data from the API\n                console.log(\"Fetching user data from API\");\n                const res = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/auth/me`);\n                if (res.data.success) {\n                    setUser(res.data.data);\n                    localStorage.setItem(\"user_data\", JSON.stringify(res.data.data));\n                    setupTokenRefresh();\n                    return res.data.data;\n                }\n            } catch (error) {\n                console.error(\"Error fetching user:\", error);\n                if (error.response && error.response.status === 401) {\n                    console.log(\"Unauthorized access - clearing tokens\");\n                    setUser(null);\n                    (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.deleteCookie)(\"token\", {\n                        path: \"/\"\n                    });\n                    localStorage.removeItem(\"auth_token\");\n                    localStorage.removeItem(\"user_data\");\n                    delete axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaults.headers.common.Authorization;\n                }\n            } finally{\n                setLoading(false);\n                authPromiseRef.current = null;\n            }\n            return null;\n        })();\n        return authPromiseRef.current;\n    };\n    // Check if user has specified permission\n    const hasPermission = (permission)=>{\n        if (!user) return false;\n        if ([\n            \"admin\",\n            \"superadmin\"\n        ].includes(user.role)) {\n            return true;\n        }\n        return user.permissions && user.permissions.includes(permission);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            loading,\n            error,\n            register,\n            login,\n            logout,\n            hasPermission,\n            checkUserLoggedIn\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/redlight/auth/frontend/src/context/AuthContext.js\",\n        lineNumber: 324,\n        columnNumber: 5\n    }, undefined);\n};\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (!context) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlDLE1BQU0sK0NBQStDO0lBQ2pFLENBQUM7SUFDRCxPQUFPRDtBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLWZyb250ZW5kLy4vc3JjL2NvbnRleHQvQXV0aENvbnRleHQuanM/NGJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IHsgc2V0Q29va2llLCBnZXRDb29raWUsIGRlbGV0ZUNvb2tpZSB9IGZyb20gXCJjb29raWVzLW5leHRcIjtcblxuLy8gQ3JlYXRlIGNvbnRleHRcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcblxuLy8gU2V0dXAgYXhpb3MgZGVmYXVsdHMgYW5kIGludGVyY2VwdG9ycyB0byBoYW5kbGUgYXV0aFxuY29uc3Qgc2V0dXBBeGlvc0RlZmF1bHRzID0gKHRva2VuKSA9PiB7XG4gIGlmICh0b2tlbikge1xuICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb25cIl07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICAvLyBVc2UgcmVmcyBmb3IgY29uY3VycmVuY3kgYW5kIGludGVydmFsIG1hbmFnZW1lbnRcbiAgY29uc3QgYXV0aFByb21pc2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRva2VuUmVmcmVzaEludGVydmFsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIEluaXRpYWxpemUgYXV0aCBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gR2V0IHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIG9yIGNvb2tpZVxuICAgICAgY29uc3QgdG9rZW4gPVxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIikgfHwgZ2V0Q29va2llKFwidG9rZW5cIilcbiAgICAgICAgICA6IG51bGw7XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAvLyBTZXQgZGVmYXVsdCBhdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgICBzZXR1cEF4aW9zRGVmYXVsdHModG9rZW4udHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7XG4gICAgfTtcblxuICAgIGluaXRBdXRoKCk7XG5cbiAgICAvLyBDbGVhbnVwIHRoZSB0b2tlbiByZWZyZXNoIGludGVydmFsIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gU2V0dXAgYSB0b2tlbiByZWZyZXNoIG1lY2hhbmlzbVxuICBjb25zdCBzZXR1cFRva2VuUmVmcmVzaCA9ICgpID0+IHtcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICBpZiAodG9rZW5SZWZyZXNoSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICAvLyBSZWZyZXNoIHRva2VuIGV2ZXJ5IDU1IG1pbnV0ZXMgKGp1c3QgYmVmb3JlIHN0YW5kYXJkIDEtaG91ciBleHBpcmF0aW9uKVxuICAgIHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICBjb25zdCByZWZyZXNoUmVzID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvcmVmcmVzaC10b2tlbmAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW4udHJpbSgpfWAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChyZWZyZXNoUmVzLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSByZWZyZXNoUmVzLmRhdGEudG9rZW4udHJpbSgpO1xuICAgICAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgbmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gVXBkYXRlIGF4aW9zIGRlZmF1bHQgaGVhZGVyIHdpdGggdGhlIG5ldyB0b2tlblxuICAgICAgICAgICAgc2V0dXBBeGlvc0RlZmF1bHRzKG5ld1Rva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUb2tlbiByZWZyZXNoIGZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgIC8vIElmIHJlZnJlc2ggZmFpbHMsIGxvZyB0aGUgdXNlciBvdXRcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgICB9XG4gICAgfSwgNTUgKiA2MCAqIDEwMDApO1xuICB9O1xuXG4gIC8vIFJlZ2lzdGVyIHVzZXJcbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAodXNlckRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvcmVnaXN0ZXJgLFxuICAgICAgICB1c2VyRGF0YSxcbiAgICAgICAgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgcmVzLmRhdGEudG9rZW4udHJpbSgpLCB7XG4gICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7IC8vIEZldGNoIHVzZXIgZGF0YVxuICAgICAgICBzZXR1cFRva2VuUmVmcmVzaCgpO1xuICAgICAgICByb3V0ZXIucHVzaChcIi9kYXNoYm9hcmRcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHwgXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgcmVnaXN0cmF0aW9uXCJcbiAgICAgICk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKG51bGwpLCA1MDAwKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9naW4gdXNlclxuICBjb25zdCBsb2dpbiA9IGFzeW5jICh7IGVtYWlsLCBwYXNzd29yZCB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyBsb2dpbiB3aXRoOlwiLCB7IGVtYWlsIH0pO1xuXG4gICAgICAvLyBDbGVhciBwcmV2aW91cyB0b2tlbnMgdG8gYXZvaWQgcmVkaXJlY3QgbG9vcHNcbiAgICAgIGRlbGV0ZUNvb2tpZShcInRva2VuXCIsIHsgcGF0aDogXCIvXCIgfSk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImF1dGhfdG9rZW5cIik7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiaXNMb2dnaW5nT3V0XCIpO1xuICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL2F1dGgvbG9naW5gLFxuICAgICAgICB7IGVtYWlsLCBwYXNzd29yZCB9LFxuICAgICAgICB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9XG4gICAgICApO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIkxvZ2luIHJlc3BvbnNlOlwiLCByZXMuZGF0YSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIDJGQSBpcyByZXF1aXJlZFxuICAgICAgaWYgKHJlcy5kYXRhLnJlcXVpcmVUd29GYWN0b3IpIHtcbiAgICAgICAgcm91dGVyLnB1c2goe1xuICAgICAgICAgIHBhdGhuYW1lOiBcIi9sb2dpbi92ZXJpZnktMmZhXCIsXG4gICAgICAgICAgcXVlcnk6IHsgZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MgJiYgcmVzLmRhdGEudG9rZW4pIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXMuZGF0YS50b2tlbi50cmltKCk7XG4gICAgICAgIC8vIFN0b3JlIHRva2VuIGluIGxvY2FsU3RvcmFnZSBhbmQgY29va2llXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXV0aF90b2tlblwiLCB0b2tlbik7XG4gICAgICAgIHNldENvb2tpZShcInRva2VuXCIsIHRva2VuLCB7XG4gICAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0dXBBeGlvc0RlZmF1bHRzKHRva2VuKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlRva2VuIHNldCBpbiBjb29raWUgYW5kIGxvY2FsU3RvcmFnZVwiKTtcblxuICAgICAgICBpZiAocmVzLmRhdGEudXNlcikge1xuICAgICAgICAgIHNldFVzZXIocmVzLmRhdGEudXNlcik7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyX2RhdGFcIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudXNlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmV0Y2ggZnJlc2ggdXNlciBkYXRhXG4gICAgICAgIGF3YWl0IGNoZWNrVXNlckxvZ2dlZEluKCk7XG4gICAgICAgIHNldHVwVG9rZW5SZWZyZXNoKCk7XG5cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gZGFzaGJvYXJkICh1c2luZyBmdWxsIHJlbG9hZCB0byBjbGVhciBtaWRkbGV3YXJlIGlmIG5lZWRlZClcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9kYXNoYm9hcmRcIjtcbiAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJMb2dpbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8IFwiSW52YWxpZCBjcmVkZW50aWFsc1wiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDUwMDApO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIExvZ291dCB1c2VyXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJBdXRoQ29udGV4dCBsb2dvdXQgY2FsbGVkXCIpO1xuXG4gICAgICAvLyBGbGFnIHRvIHByZXZlbnQgbXVsdGlwbGUgbG9nb3V0IGF0dGVtcHRzXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImlzTG9nZ2luZ091dFwiLCBcInRydWVcIik7XG5cbiAgICAgIC8vIENsZWFyIGFsbCB0b2tlbnMgYW5kIHN0YXRlIEZJUlNUXG4gICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF90b2tlblwiKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBkZWxldGVDb29raWUoXCJ0b2tlblwiLCB7IHBhdGg6IFwiL1wiIH0pO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyX2RhdGFcIik7XG4gICAgICBkZWxldGUgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdO1xuXG4gICAgICAvLyBDbGVhciB0b2tlbiByZWZyZXNoIGludGVydmFsXG4gICAgICBpZiAodG9rZW5SZWZyZXNoSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRva2VuUmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgICB0b2tlblJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCB0aGUgQVBJIHRvIGxvZ291dCAtIGRvbid0IHdhaXQgZm9yIGl0XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC9sb2dvdXRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sXG4gICAgICAgICAgfSkuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKFwiTG9nb3V0IEFQSSBlcnJvciAobm9uLWNyaXRpY2FsKTpcIiwgZSkpO1xuICAgICAgICB9IGNhdGNoIChhcGlFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9nb3V0IEFQSSBjYWxsIGVycm9yIChub24tY3JpdGljYWwpOlwiLCBhcGlFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRm9yY2UgaGFyZCByZWRpcmVjdCB0byBsb2dpbiBwYWdlIHdpdGggbG9nZ2VkX291dCBmbGFnIGFuZCB0aW1lc3RhbXBcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBsb2dnaW5nIG91dCBmbGFnIHJpZ2h0IGJlZm9yZSByZWRpcmVjdGluZ1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJpc0xvZ2dpbmdPdXRcIik7XG5cbiAgICAgIC8vIFVzZSByZXBsYWNlIHRvIGNyZWF0ZSBhIGNsZWFuIG5hdmlnYXRpb24gaGlzdG9yeVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYC9sb2dpbj9sb2dnZWRfb3V0PXRydWUmdD0ke3RpbWVzdGFtcH1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkxvZ291dCBwcm9jZXNzIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayByZWRpcmVjdCBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvbG9naW4/bG9nZ2VkX291dD10cnVlXCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGxvZ2dlZCBpbiB3aXRoIGNvbmN1cnJlbmN5IGhhbmRsaW5nIHVzaW5nIGEgc3RvcmVkIHByb21pc2VcbiAgY29uc3QgY2hlY2tVc2VyTG9nZ2VkSW4gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGF1dGhQcm9taXNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBhdXRoUHJvbWlzZVJlZi5jdXJyZW50O1xuICAgIH1cblxuICAgIGF1dGhQcm9taXNlUmVmLmN1cnJlbnQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmV0cmlldmUgdG9rZW4gZnJvbSBjb29raWUgb3IgbG9jYWxTdG9yYWdlXG4gICAgICAgIGxldCB0b2tlbiA9XG4gICAgICAgICAgZ2V0Q29va2llKFwidG9rZW5cIikgfHxcbiAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIikpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2tpbmcgYXV0aDpcIiwgdG9rZW4gPyBcIlRva2VuIGV4aXN0c1wiIDogXCJObyB0b2tlblwiKTtcblxuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRva2VuID0gdG9rZW4udHJpbSgpO1xuICAgICAgICBzZXR1cEF4aW9zRGVmYXVsdHModG9rZW4pO1xuXG4gICAgICAgIC8vIElmIHRva2VuIGV4aXN0cyBpbiBsb2NhbFN0b3JhZ2UgYnV0IG5vdCBpbiBjb29raWUsIHJlc3RvcmUgaXRcbiAgICAgICAgaWYgKCFnZXRDb29raWUoXCJ0b2tlblwiKSAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgc2V0Q29va2llKFwidG9rZW5cIiwgdG9rZW4sIHtcbiAgICAgICAgICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsXG4gICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gdXNlIGNhY2hlZCB1c2VyIGRhdGEgKG5vbi1ibG9ja2luZylcbiAgICAgICAgY29uc3QgY2FjaGVkVXNlciA9XG4gICAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJfZGF0YVwiKTtcbiAgICAgICAgaWYgKGNhY2hlZFVzZXIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKGNhY2hlZFVzZXIpO1xuICAgICAgICAgICAgc2V0VXNlcih1c2VyRGF0YSk7XG4gICAgICAgICAgICAvLyBTdGlsbCBjb250aW51ZSB0byBmZXRjaCBmcmVzaCBkYXRhIGJlbG93XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHBhcnNpbmcgY2FjaGVkIHVzZXIgZGF0YVwiLCBlKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcl9kYXRhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZldGNoIGZyZXNoIHVzZXIgZGF0YSBmcm9tIHRoZSBBUElcbiAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyB1c2VyIGRhdGEgZnJvbSBBUElcIik7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hcGkvdjEvYXV0aC9tZWBcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIHNldFVzZXIocmVzLmRhdGEuZGF0YSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyX2RhdGFcIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpO1xuICAgICAgICAgIHNldHVwVG9rZW5SZWZyZXNoKCk7XG4gICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmRhdGE7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyOlwiLCBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5hdXRob3JpemVkIGFjY2VzcyAtIGNsZWFyaW5nIHRva2Vuc1wiKTtcbiAgICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICAgIGRlbGV0ZUNvb2tpZShcInRva2VuXCIsIHsgcGF0aDogXCIvXCIgfSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoX3Rva2VuXCIpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcl9kYXRhXCIpO1xuICAgICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb25cIl07XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBhdXRoUHJvbWlzZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pKCk7XG5cbiAgICByZXR1cm4gYXV0aFByb21pc2VSZWYuY3VycmVudDtcbiAgfTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBzcGVjaWZpZWQgcGVybWlzc2lvblxuICBjb25zdCBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoW1wiYWRtaW5cIiwgXCJzdXBlcmFkbWluXCJdLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdXNlci5wZXJtaXNzaW9ucyAmJiB1c2VyLnBlcm1pc3Npb25zLmluY2x1ZGVzKHBlcm1pc3Npb24pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICB1c2VyLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVnaXN0ZXIsXG4gICAgICAgIGxvZ2luLFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIGhhc1Blcm1pc3Npb24sXG4gICAgICAgIGNoZWNrVXNlckxvZ2dlZEluLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJheGlvcyIsInNldENvb2tpZSIsImdldENvb2tpZSIsImRlbGV0ZUNvb2tpZSIsIkF1dGhDb250ZXh0Iiwic2V0dXBBeGlvc0RlZmF1bHRzIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwicm91dGVyIiwiYXV0aFByb21pc2VSZWYiLCJ0b2tlblJlZnJlc2hJbnRlcnZhbFJlZiIsImluaXRBdXRoIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRyaW0iLCJjaGVja1VzZXJMb2dnZWRJbiIsImN1cnJlbnQiLCJjbGVhckludGVydmFsIiwic2V0dXBUb2tlblJlZnJlc2giLCJzZXRJbnRlcnZhbCIsInJlZnJlc2hSZXMiLCJnZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkF1dGhvcml6YXRpb24iLCJkYXRhIiwic3VjY2VzcyIsIm5ld1Rva2VuIiwibWF4QWdlIiwicGF0aCIsImNvbnNvbGUiLCJsb2dvdXQiLCJyZWdpc3RlciIsInVzZXJEYXRhIiwicmVzIiwicG9zdCIsIndpdGhDcmVkZW50aWFscyIsInB1c2giLCJyZXNwb25zZSIsInNldFRpbWVvdXQiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJsb2ciLCJyZW1vdmVJdGVtIiwicmVxdWlyZVR3b0ZhY3RvciIsInBhdGhuYW1lIiwicXVlcnkiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImZldGNoIiwibWV0aG9kIiwiY2F0Y2giLCJlIiwiYXBpRXJyb3IiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwicmVwbGFjZSIsImNhY2hlZFVzZXIiLCJwYXJzZSIsInN0YXR1cyIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwiaW5jbHVkZXMiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQXV0aCIsImNvbnRleHQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/context/AuthContext.js\n");

/***/ }),

/***/ "./src/pages/admin/users.js":
/*!**********************************!*\
  !*** ./src/pages/admin/users.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ManageUsers)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/AuthContext */ \"./src/context/AuthContext.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/Layout */ \"./src/components/Layout.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__, axios__WEBPACK_IMPORTED_MODULE_3__, _components_Layout__WEBPACK_IMPORTED_MODULE_5__]);\n([_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__, axios__WEBPACK_IMPORTED_MODULE_3__, _components_Layout__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nfunction ManageUsers() {\n    const { user , hasPermission  } = (0,_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [fetchError, setFetchError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [actionError, setActionError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [actionSuccess, setActionSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loadingUsers, setLoadingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user && (hasPermission(\"manage_users\") || user.role === \"admin\" || user.role === \"superadmin\")) {\n            fetchUsers();\n        }\n    }, [\n        user,\n        hasPermission\n    ]);\n    const fetchUsers = async ()=>{\n        setLoadingUsers(true);\n        try {\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\");\n            const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`${\"http://localhost:5000\"}/api/v1/users`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setUsers(response.data.data);\n            setFetchError(null);\n        } catch (error) {\n            setFetchError(\"Failed to load users\");\n            console.error(error);\n        } finally{\n            setLoadingUsers(false);\n        }\n    };\n    const updateUserRole = async (userId, newRole)=>{\n        try {\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\");\n            await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].put(`${\"http://localhost:5000\"}/api/v1/users/${userId}/role`, {\n                role: newRole\n            }, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setActionSuccess(`User role updated to ${newRole}`);\n            setTimeout(()=>setActionSuccess(null), 3000);\n            // Update the users list\n            fetchUsers();\n        } catch (error) {\n            setActionError(error.response?.data?.error || \"Failed to update user role\");\n            setTimeout(()=>setActionError(null), 5000);\n        }\n    };\n    const deleteUser = async (userId)=>{\n        if (!confirm(\"Are you sure you want to delete this user?\")) {\n            return;\n        }\n        try {\n            const token = (0,cookies_next__WEBPACK_IMPORTED_MODULE_4__.getCookie)(\"token\");\n            await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"][\"delete\"](`${\"http://localhost:5000\"}/api/v1/users/${userId}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setActionSuccess(\"User deleted successfully\");\n            setTimeout(()=>setActionSuccess(null), 3000);\n            // Update the users list\n            fetchUsers();\n        } catch (error) {\n            setActionError(error.response?.data?.error || \"Failed to delete user\");\n            setTimeout(()=>setActionError(null), 5000);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        title: \"Manage Users\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-2xl font-semibold text-gray-900 mb-6\",\n                children: \"Manage Users\"\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 103,\n                columnNumber: 7\n            }, this),\n            fetchError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"alert alert-error\",\n                children: fetchError\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 107,\n                columnNumber: 22\n            }, this),\n            actionError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"alert alert-error\",\n                children: actionError\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 108,\n                columnNumber: 23\n            }, this),\n            actionSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"alert alert-success\",\n                children: actionSuccess\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 110,\n                columnNumber: 9\n            }, this),\n            loadingUsers ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-12 flex justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-lg text-gray-500\",\n                    children: \"Loading users...\"\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                    lineNumber: 115,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 114,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"overflow-x-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                        className: \"min-w-full divide-y divide-gray-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                className: \"bg-gray-50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Name\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 123,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Email\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 129,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Role\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 135,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Status\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 141,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Created\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 147,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                            scope: \"col\",\n                                            className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                                            children: \"Actions\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                            lineNumber: 153,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                    lineNumber: 122,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                lineNumber: 121,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                className: \"bg-white divide-y divide-gray-200\",\n                                children: users.map((userItem)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        className: \"hover:bg-gray-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm font-medium text-gray-900\",\n                                                    children: userItem.name\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                    lineNumber: 165,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 164,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-500\",\n                                                    children: userItem.email\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                    lineNumber: 170,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 169,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-900\",\n                                                    children: userItem.role\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                    lineNumber: 175,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 174,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                        ${userItem.active ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"}`,\n                                                    children: userItem.active ? \"Active\" : \"Inactive\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                    lineNumber: 180,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 179,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                                                children: new Date(userItem.createdAt).toLocaleDateString()\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 191,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                className: \"px-6 py-4 whitespace-nowrap\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-2\",\n                                                    children: user.role === \"superadmin\" || user.role === \"admin\" && userItem.role !== \"superadmin\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                defaultValue: userItem.role,\n                                                                onChange: (e)=>updateUserRole(userItem._id, e.target.value),\n                                                                disabled: user._id === userItem._id || user.role === \"admin\" && userItem.role === \"admin\",\n                                                                className: \"block w-32 bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: \"user\",\n                                                                        children: \"User\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                                        lineNumber: 212,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: \"admin\",\n                                                                        children: \"Admin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                                        lineNumber: 213,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    user.role === \"superadmin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: \"superadmin\",\n                                                                        children: \"Super Admin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                                        lineNumber: 215,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                                lineNumber: 200,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",\n                                                                onClick: ()=>deleteUser(userItem._id),\n                                                                disabled: user._id === userItem._id,\n                                                                children: \"Delete\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                                lineNumber: 219,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: \"No permission\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                        lineNumber: 228,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                                lineNumber: 194,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, userItem._id, true, {\n                                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                        lineNumber: 163,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                                lineNumber: 161,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                        lineNumber: 120,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                    lineNumber: 119,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n                lineNumber: 118,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/redlight/auth/frontend/src/pages/admin/users.js\",\n        lineNumber: 102,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixXQUFVO2dFQUNWNEIsU0FBUyxJQUFNakMsV0FBV2MsU0FBU2EsR0FBRztnRUFDdENHLFVBQVU1RCxLQUFLeUQsR0FBRyxLQUFLYixTQUFTYSxHQUFHOzBFQUNwQzs7Ozs7OztxRkFLSCw4REFBQ1Q7d0RBQUtiLFdBQVU7a0VBQXdCOzs7Ozs0REFHekM7Ozs7Ozs7Ozs7Ozt1Q0FwRUVTLFNBQVNhLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBNkVoQzs7Ozs7OztBQUdQLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoLWZyb250ZW5kLy4vc3JjL3BhZ2VzL2FkbWluL3VzZXJzLmpzPzBkNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi8uLi9jb250ZXh0L0F1dGhDb250ZXh0XCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBnZXRDb29raWUgfSBmcm9tIFwiY29va2llcy1uZXh0XCI7XG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0xheW91dFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYW5hZ2VVc2VycygpIHtcbiAgY29uc3QgeyB1c2VyLCBoYXNQZXJtaXNzaW9uIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmV0Y2hFcnJvciwgc2V0RmV0Y2hFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2FjdGlvbkVycm9yLCBzZXRBY3Rpb25FcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2FjdGlvblN1Y2Nlc3MsIHNldEFjdGlvblN1Y2Nlc3NdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nVXNlcnMsIHNldExvYWRpbmdVc2Vyc10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgIHVzZXIgJiZcbiAgICAgIChoYXNQZXJtaXNzaW9uKFwibWFuYWdlX3VzZXJzXCIpIHx8XG4gICAgICAgIHVzZXIucm9sZSA9PT0gXCJhZG1pblwiIHx8XG4gICAgICAgIHVzZXIucm9sZSA9PT0gXCJzdXBlcmFkbWluXCIpXG4gICAgKSB7XG4gICAgICBmZXRjaFVzZXJzKCk7XG4gICAgfVxuICB9LCBbdXNlciwgaGFzUGVybWlzc2lvbl0pO1xuXG4gIGNvbnN0IGZldGNoVXNlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0TG9hZGluZ1VzZXJzKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZShcInRva2VuXCIpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkx9L2FwaS92MS91c2Vyc2AsXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgc2V0VXNlcnMocmVzcG9uc2UuZGF0YS5kYXRhKTtcbiAgICAgIHNldEZldGNoRXJyb3IobnVsbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEZldGNoRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB1c2Vyc1wiKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nVXNlcnMoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVVc2VyUm9sZSA9IGFzeW5jICh1c2VySWQsIG5ld1JvbGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBnZXRDb29raWUoXCJ0b2tlblwiKTtcbiAgICAgIGF3YWl0IGF4aW9zLnB1dChcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL3VzZXJzLyR7dXNlcklkfS9yb2xlYCxcbiAgICAgICAgeyByb2xlOiBuZXdSb2xlIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBzZXRBY3Rpb25TdWNjZXNzKGBVc2VyIHJvbGUgdXBkYXRlZCB0byAke25ld1JvbGV9YCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEFjdGlvblN1Y2Nlc3MobnVsbCksIDMwMDApO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHVzZXJzIGxpc3RcbiAgICAgIGZldGNoVXNlcnMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0QWN0aW9uRXJyb3IoXG4gICAgICAgIGVycm9yLnJlc3BvbnNlPy5kYXRhPy5lcnJvciB8fCBcIkZhaWxlZCB0byB1cGRhdGUgdXNlciByb2xlXCJcbiAgICAgICk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEFjdGlvbkVycm9yKG51bGwpLCA1MDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBpZiAoIWNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgdXNlcj9cIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBnZXRDb29raWUoXCJ0b2tlblwiKTtcbiAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vYXBpL3YxL3VzZXJzLyR7dXNlcklkfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBzZXRBY3Rpb25TdWNjZXNzKFwiVXNlciBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0QWN0aW9uU3VjY2VzcyhudWxsKSwgMzAwMCk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlcnMgbGlzdFxuICAgICAgZmV0Y2hVc2VycygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRBY3Rpb25FcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHwgXCJGYWlsZWQgdG8gZGVsZXRlIHVzZXJcIik7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEFjdGlvbkVycm9yKG51bGwpLCA1MDAwKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHRpdGxlPVwiTWFuYWdlIFVzZXJzXCI+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTZcIj5cbiAgICAgICAgTWFuYWdlIFVzZXJzXG4gICAgICA8L2gxPlxuXG4gICAgICB7ZmV0Y2hFcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWVycm9yXCI+e2ZldGNoRXJyb3J9PC9kaXY+fVxuICAgICAge2FjdGlvbkVycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZXJyb3JcIj57YWN0aW9uRXJyb3J9PC9kaXY+fVxuICAgICAge2FjdGlvblN1Y2Nlc3MgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj57YWN0aW9uU3VjY2Vzc308L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtsb2FkaW5nVXNlcnMgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMTIgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LWdyYXktNTAwXCI+TG9hZGluZyB1c2Vycy4uLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93IG92ZXJmbG93LWhpZGRlbiBzbTpyb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJtaW4tdy1mdWxsIGRpdmlkZS15IGRpdmlkZS1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTYgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIE5hbWVcbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBFbWFpbFxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTYgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFJvbGVcbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBTdGF0dXNcbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDcmVhdGVkXG4gICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQWN0aW9uc1xuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAge3VzZXJzLm1hcCgodXNlckl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3VzZXJJdGVtLl9pZH0gY2xhc3NOYW1lPVwiaG92ZXI6YmctZ3JheS01MFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VySXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VySXRlbS5lbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dXNlckl0ZW0ucm9sZX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0yIGlubGluZS1mbGV4IHRleHQteHMgbGVhZGluZy01IGZvbnQtc2VtaWJvbGQgcm91bmRlZC1mdWxsIFxuICAgICAgICAgICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckl0ZW0uYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXJlZC0xMDAgdGV4dC1yZWQtODAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VySXRlbS5hY3RpdmUgPyBcIkFjdGl2ZVwiIDogXCJJbmFjdGl2ZVwifVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUodXNlckl0ZW0uY3JlYXRlZEF0KS50b0xvY2FsZURhdGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5yb2xlID09PSBcInN1cGVyYWRtaW5cIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHVzZXIucm9sZSA9PT0gXCJhZG1pblwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJdGVtLnJvbGUgIT09IFwic3VwZXJhZG1pblwiKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3VzZXJJdGVtLnJvbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXJSb2xlKHVzZXJJdGVtLl9pZCwgZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuX2lkID09PSB1c2VySXRlbS5faWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVzZXIucm9sZSA9PT0gXCJhZG1pblwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckl0ZW0ucm9sZSA9PT0gXCJhZG1pblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy0zMiBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgc2hhZG93LXNtIHB5LTIgcHgtMyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBmb2N1czpib3JkZXItcHJpbWFyeS01MDAgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInVzZXJcIj5Vc2VyPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWRtaW5cIj5BZG1pbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIucm9sZSA9PT0gXCJzdXBlcmFkbWluXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3VwZXJhZG1pblwiPlN1cGVyIEFkbWluPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTMgcHktMS41IGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgdGV4dC14cyBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtd2hpdGUgYmctcmVkLTYwMCBob3ZlcjpiZy1yZWQtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLXJlZC01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZGVsZXRlVXNlcih1c2VySXRlbS5faWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VzZXIuX2lkID09PSB1c2VySXRlbS5faWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm8gcGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L0xheW91dD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUF1dGgiLCJheGlvcyIsImdldENvb2tpZSIsIkxheW91dCIsIk1hbmFnZVVzZXJzIiwidXNlciIsImhhc1Blcm1pc3Npb24iLCJ1c2VycyIsInNldFVzZXJzIiwiZmV0Y2hFcnJvciIsInNldEZldGNoRXJyb3IiLCJhY3Rpb25FcnJvciIsInNldEFjdGlvbkVycm9yIiwiYWN0aW9uU3VjY2VzcyIsInNldEFjdGlvblN1Y2Nlc3MiLCJsb2FkaW5nVXNlcnMiLCJzZXRMb2FkaW5nVXNlcnMiLCJyb2xlIiwiZmV0Y2hVc2VycyIsInRva2VuIiwicmVzcG9uc2UiLCJnZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsInVwZGF0ZVVzZXJSb2xlIiwidXNlcklkIiwibmV3Um9sZSIsInB1dCIsInNldFRpbWVvdXQiLCJkZWxldGVVc2VyIiwiY29uZmlybSIsImRlbGV0ZSIsInRpdGxlIiwiaDEiLCJjbGFzc05hbWUiLCJkaXYiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0aCIsInNjb3BlIiwidGJvZHkiLCJtYXAiLCJ1c2VySXRlbSIsInRkIiwibmFtZSIsImVtYWlsIiwic3BhbiIsImFjdGl2ZSIsIkRhdGUiLCJjcmVhdGVkQXQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzZWxlY3QiLCJkZWZhdWx0VmFsdWUiLCJvbkNoYW5nZSIsImUiLCJfaWQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImRpc2FibGVkIiwib3B0aW9uIiwiYnV0dG9uIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/admin/users.js\n");

/***/ }),

/***/ "cookies-next":
/*!*******************************!*\
  !*** external "cookies-next" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("cookies-next");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next/head");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/admin/users.js"));
module.exports = __webpack_exports__;

})();